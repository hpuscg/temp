webpackJsonp([1],{0:function(e,t,a){a("j1ja"),e.exports=a("NHnr")},"0t/5":function(e,t){},"24OP":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),a.d(t,"json",function(){return s});var s={tableParams:{eventTime:{label:"时间",type:"input"},name:{label:"姓名",type:"input"},description:{label:"详情描述",type:"input"},pagination:!0}}},"3mhv":function(e,t){},"4Eaw":function(e,t){},"4N8G":function(e,t){},"4ufq":function(e,t){},"6EIJ":function(e,t){},"7UDh":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),a.d(t,"json",function(){return s});var s={labelWidth:"150px",labelPosition:"left",statusIcon:!0,size:"medium",params:{Server:{label:"IP地址",type:"input",valueType:"string",disabled:!1,placeholder:"请输入IP地址",value:"",rules:[{required:!0,message:"IP地址不能为空!"}]},User:{label:"用户名",type:"input",valueType:"string",disabled:!1,placeholder:"请输入用户名",value:"",rules:[{required:!0,message:"用户名不能为空!"}]},Passwd:{label:"密码",type:"input",valueType:"string",disabled:!1,placeholder:"请输入密码",value:"",rules:[{required:!0,message:"密码不能为空!"}]}}}},"7cCi":function(e,t){},"7idX":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),a.d(t,"json",function(){return s});var s={tableParams:{Chid:{label:"通道ID",type:"input",width:140},Funcmode:{label:"功能",type:"input"},Url:{label:"URL",type:"input"},operationOnlyEdit:!0,pagination:!1}}},"7nI9":function(e,t){},"8AZl":function(e,t){},A1tS:function(e,t,a){e.exports=a.p+"public/img/1.f6822b0.png"},C77A:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),a.d(t,"json",function(){return s});var s={labelWidth:"150px",labelPosition:"left",statusIcon:!0,size:"medium",params:{Server:{label:"IP地址",type:"input",valueType:"string",disabled:!1,placeholder:"请输入IP地址",value:"",rules:[{required:!0,message:"IP地址不能为空!"}]},User:{label:"用户名",type:"input",valueType:"string",disabled:!1,placeholder:"请输入用户名",value:"",rules:[{required:!0,message:"用户名不能为空!"}]},Passwd:{label:"密码",type:"input",valueType:"string",disabled:!1,placeholder:"请输入密码",value:"",rules:[{required:!0,message:"密码不能为空!"}]}}}},D07W:function(e,t){},Llgx:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAE4AAABgCAIAAAA8btMMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA39pVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDIxIDc5LjE1NTc3MiwgMjAxNC8wMS8xMy0xOTo0NDowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpjNjljM2IxOC0yNWQzLTM5NGItYWE4NC0yZGE2OGZmZjY4OTIiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6RTI1QjA2RDc0M0JCMTFFOEExRkZFQzM3REEyRTE4QUYiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6RTI1QjA2RDY0M0JCMTFFOEExRkZFQzM3REEyRTE4QUYiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOmJkZTg2ZDA1LTYyZTgtNWU0OC04MDJiLWE5Mzg1MTNmOTg1OCIgc3RSZWY6ZG9jdW1lbnRJRD0iYWRvYmU6ZG9jaWQ6cGhvdG9zaG9wOjlmMDA0ZTYwLTlhYjUtZGQ0Ni05ZjEyLWMwNmY5MjVlMWQ2MyIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PtS534wAAAP5SURBVHja7JvrUiIxEEZFQFTwUor6/q8nqKiId92zdNmbYjJZYDIOll9+WAOEnjnpry8JZevs7Gzrd4ztrV8zhCpUoQpVqEIVqlCFKlShClWoQhWqUIUqVKEKVahCFapQhdr86NRqvdvt7u7u7uzscNFut7e3/67sx8fH+/v76+vry8vL09MTFz8YtdVq7e/vDwYDICNCmg/gmcNLgKfT6Ww2+/z8rBW1lf331b29vePj405ntUV8e3ubTCaPj48/w6s48+TkxHy1gIHr+It0zassBA4Pl4Pr4XCIb6+vr2tybzZUQhGBIEt/BzCU+fDwAGT83p1Ov99H5xbDDJYJC6PRiGDOjtrmZlk4z8/PnRO33N/fj8djso55Mjr46Pn5meXgGicjCjNFCKDk7L7NgMojhpz4EEikuLwFgFkUcrW5l79cI4eNQz09PeXJ7JrKgfzKFGu5N+ouFIsnsYNXzbfIO2+WqhqriM3zEITRMMPtBwcHxKRhoFsY7u7uFlaEL/J1BGLpCrNIIyNtJa/CQNo01eErdFv0J59eXFzw3J57+BaRyX2LkYwRcjUfWdwyLaOMKzWGPJMXDPIQT1mcQ/kJ03K4BCi/+D5GMOUpuli6mkFFk55LEWS0nKDwRNsYbacw5d5G+c2jdufDrikY0WQT9efCWhTfxJRVoIW7NIbqWZexdkSVFc/QYHijZlB7vZ4n3rLq8t+mp2xCaNNv1KSAPZEs4/lVJ7jZVXcO+VGtSFrbsFIoLjnBvdo8qpW+RLxVEbBl9YUbbfSBC01CYiH4iAk/4GzJGbwNivbx0Xrr9ZMJpU/2ZTbXFmd91CVjKeG3tEvdbFl6bwA12vGEiTTqOt5MpO7QbPOoDsDypxuaqIYTwrZK5l5NiPybUEP5pZvyaLClIzA0mCt1rY9qB7ne9yeSU7RaJEoIpnwjwS1yHRRXPYWwjUtrPorLjwgPDw+Pjo6KYPiNJoS6Wjx8Yr53Ube3t7lQKzUis9kMEgsqdlu8ND8DxrOyiIkdHHMG88EC0dz7uRnZyDduJKSVzqhqROXhJpPJcDi0l1ywqwbPj/+W3CGZD1kmwMINKsYznhtWFTALb+fXW18nfbxcr5VDz35oaPs4P47YlMbw5uYm+09MGMTspjSGoYwTB6LrKQWD2Y+887T7JNLLy8ssvsUIpjb3hwzzLdFFvKX7xPTAwng8Tvz2sRGoNqgZJNJer5foKMpEe3V1lTcP1YtqDz2dTi0z+0lFej9AUSEJZYz2/HU13V0woKV+4OTOfFgRQup2Sma/StVN+K9p0X8lC1WoQhWqUIUqVKEKVahCFapQhSpUoQpVqEIVqlCFKlShClWoNYw/AgwArXhGd2pKy3AAAAAASUVORK5CYII="},LpwU:function(e,t){},MWbT:function(e,t){},NHnr:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("7+uW"),i={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[this.isRouterAlive?t("router-view"):this._e()],1)},staticRenderFns:[]};var r=a("VU/8")({name:"App",provide:function(){return{reload:this.reload}},data:function(){return{isRouterAlive:!0}},methods:{reload:function(){this.isRouterAlive=!1,this.$nextTick(function(){this.isRouterAlive=!0})}}},i,!1,function(e){a("D07W")},null,null).exports,n=a("zL8q"),o=a.n(n),l=a("/ocq"),c=a("//Fk"),u=a.n(c),m=a("mtWM"),d=a.n(m),p=localStorage.getItem("token"),g=d.a.create({});console.log("Axios loaded"),g.defaults.headers.common.Authorization=p,g.interceptors.request.use(function(e){var t=e.url;return t.indexOf("login")>-1&&(localStorage.setItem("token",""),e.headers.Authorization=""),t.indexOf("login")<0&&(e.headers.Authorization=localStorage.getItem("token")),e},function(e){return u.a.reject(e)}),g.interceptors.response.use(function(e){return e.headers.token&&localStorage.setItem("token",e.headers.token),e},function(e){if(401===e.response.status){return u.a.reject({code:-1,message:"登录超时"})}});var h=g,f={log:"1",face:"2",system:"3",device:"3-1",channel:"3-2",network:"3-3",maintain:"3-4",userHighConfig:"3-5",roi:"3-6",test:"3-7"},v=a("Av7u"),b=a.n(v),y=b.a.enc.Utf8.parse("f1.deepglint.com"),x=b.a.enc.Utf8.parse("86-10-62950616-9"),w={encrypt:function(e){var t=b.a.enc.Utf8.parse(e);return b.a.AES.encrypt(t,y,{iv:x,mode:b.a.mode.CBC,padding:b.a.pad.Pkcs7}).ciphertext.toString().toUpperCase()}},_={components:{},data:function(){return{activeIndex:"3",HomeLogo:"",Title:"",userName:"",routerPath:"",dialogVisible:!1,ruleForm:{}}},created:function(){this.userName=localStorage.getItem("userName"),this.routerPath=window.location.pathname,this.getLogo()},methods:{getLogo:function(){var e=this;h.get("/api/webconfig?"+(new Date).getTime()).then(function(t){var a=t.data.data;e.HomeLogo=a.HomeLogo,e.Title=a.Title})},doLogout:function(){localStorage.removeItem("userName"),this.$router.push({name:"Login"})},handleCommand:function(e){"1"===e?this.doLogout():this.dialogVisible=!0},compareToFirstPassword:function(e,t,a){if(t&&t!==this.ruleForm.newPassword){a("请确认两次密码输入是否一致!")}else a()},editPwd:function(e){var t=this;new RegExp("(?=.*[0-9])(?=.*[A-Z])(?=.*[a-z])(?=.*[^a-zA-Z0-9]).{8,30}").test(this.ruleForm.newPassword)?this.$refs[e].validate(function(e){e&&h.put("/api/password",{userName:localStorage.getItem("userName"),oldPassword:w.encrypt(t.ruleForm.oldPassword),newPassword:w.encrypt(t.ruleForm.newPassword)}).then(function(e){1===e.data.result&&(t.$message({showClose:!0,message:"修改密码成功, 请重新登录!",type:"success"}),t.$router.push({name:"Login"}))}).catch(function(){t.$message({showClose:!0,message:"修改密码失败, 请确认是否输入正确的密码!",type:"error"})})}):this.$message({showClose:!0,message:"密码必须同时包含大写、小写、数字和特殊字符且至少8位",type:"error"})},doConfig:function(){this.$router.push({name:"DeviceName"})},goBack:function(){localStorage.setItem("routePath","/player"),this.$router.push({name:"Player"})},logRoute:function(){this.$router.push({name:"Log"})},faceRoute:function(){this.$router.push({name:"Face"})},systemRoute:function(){this.$router.push({name:"DeviceName"})}},mounted:function(){var e,t;this.activeIndex=(e=window.location.href,t=e.split("/")[3],f[t])},watch:{$route:function(e,t){this.routerPath=e.path}},computed:{getTableMaxWidth:function(){return this.$store.getters.getContentWidth-960+"px"}}},F={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"topNav flexbetween",staticStyle:{padding:"5px 0"}},[this.HomeLogo?a("img",{staticClass:"logo",attrs:{src:"data:image/jpeg;base64,"+this.HomeLogo}}):a("img",{staticClass:"logo",staticStyle:{background:"black"}}),e._v(" "),"/player"===this.routerPath?a("span",{staticClass:"mid-nav"},[e._v(e._s(this.Title))]):a("div",{staticStyle:{position:"absolute",left:"240px"}},[a("el-menu",{staticClass:"el-menu-demo",attrs:{"default-active":e.activeIndex,mode:"horizontal","background-color":"#000000","text-color":"#9a9a9a","active-text-color":"#00ffc6",router:!0}},[a("el-menu-item",{attrs:{index:"1"},on:{click:e.logRoute}},[a("span",{staticClass:"menuNav",staticStyle:{"margin-left":"30px"}},[e._v("事件日志")])]),e._v(" "),a("el-menu-item",{attrs:{index:"2"},on:{click:e.faceRoute}},[a("span",{staticClass:"menuNav",staticStyle:{"margin-left":"30px"}},[e._v("人脸管理")])]),e._v(" "),a("el-menu-item",{attrs:{index:"3"},on:{click:e.systemRoute}},[a("span",{staticClass:"menuNav",staticStyle:{"margin-left":"30px"}},[e._v("系统管理")])])],1)],1),e._v(" "),"/player"===this.routerPath?a("div",{staticClass:"icon-user flexbetween"},[a("span",{staticClass:"cusor"},[e._v(e._s(this.userName))]),e._v(" "),a("span",{staticClass:"cusor",on:{click:e.doConfig}},[e._v("配置中心")]),e._v(" "),a("span",{staticClass:"cusor",on:{click:e.doLogout}},[e._v("退出")])]):a("div",{staticClass:"icon-config flexbetween"},[a("span",{staticClass:"cusor",on:{click:e.goBack}},[e._v("返回首页")]),e._v(" "),a("el-dropdown",{on:{command:e.handleCommand}},[a("span",{staticClass:"cusor"},[e._v(e._s(this.userName)),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),e._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{attrs:{command:"1"}},[e._v("退出")]),e._v(" "),a("el-dropdown-item",{attrs:{command:"2"}},[e._v("修改密码")])],1)],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"修改密码",width:"470px",visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t},close:function(t){return e.closeDilog("ruleForm")}}},[a("el-form",{ref:"ruleForm",attrs:{inline:!0,model:e.ruleForm,"label-width":"80px","label-position":"right"}},[a("el-form-item",{staticClass:"inputLab",staticStyle:{"margin-left":"20px","margin-top":"10px"},attrs:{label:"原密码",prop:"oldPassword",rules:[{required:!0,message:"*请输入原密码",trigger:"blur"}]}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.ruleForm.oldPassword,expression:"ruleForm.oldPassword"}],staticClass:"inputVal",attrs:{type:"password",placeholder:"请输入原密码"},domProps:{value:e.ruleForm.oldPassword},on:{input:function(t){t.target.composing||e.$set(e.ruleForm,"oldPassword",t.target.value)}}})]),e._v(" "),a("el-form-item",{staticClass:"inputLab",attrs:{label:"新密码",prop:"newPassword",rules:[{required:!0,message:"*请输入新密码",trigger:"blur"},{max:16,message:"密码不得超过16位"},{min:6,message:"密码不得少于6位"}]}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.ruleForm.newPassword,expression:"ruleForm.newPassword"}],staticClass:"inputVal",attrs:{type:"password",placeholder:"请输入新密码"},domProps:{value:e.ruleForm.newPassword},on:{input:function(t){t.target.composing||e.$set(e.ruleForm,"newPassword",t.target.value)}}})]),e._v(" "),a("el-form-item",{staticClass:"inputLab",attrs:{label:"确认密码",prop:"newPasswordSec",rules:[{required:!0,message:"*请输入确认密码",trigger:"blur"},{validator:e.compareToFirstPassword}]}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.ruleForm.newPasswordSec,expression:"ruleForm.newPasswordSec"}],staticClass:"inputVal",attrs:{type:"password",placeholder:"请输入确认密码"},domProps:{value:e.ruleForm.newPasswordSec},on:{input:function(t){t.target.composing||e.$set(e.ruleForm,"newPasswordSec",t.target.value)}}})])],1),e._v(" "),a("div",{staticStyle:{"border-top":"1px solid #373737"}},[a("button",{staticClass:"button",staticStyle:{margin:"8px 0 8px 140px"},on:{click:function(t){return e.editPwd("ruleForm")}}},[e._v("保 存")]),e._v(" "),a("button",{staticClass:"button",on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")])])],1)],1)},staticRenderFns:[]};var S,T=a("VU/8")(_,F,!1,function(e){a("axk4")},"data-v-35e85dba",null).exports,C=a("bOdI"),k=a.n(C),I=(S={data:function(){return{activeIndex:"3-1"}},created:function(){this.getUserName()},mounted:function(){this.activeIndex=getActiveNav(window.location.href)},methods:{getUserName:function(){this.userName=localStorage.getItem("userName")},deviceRoute:function(){this.$router.push({name:"DeviceName"})},channelRoute:function(){this.$router.push({name:"Channel"})},networkRoute:function(){this.$router.push({name:"Network"})},maintainRoute:function(){this.$router.push({name:"Maintain"})},roiRoute:function(){this.$router.push({name:"Roi"})},testRoute:function(){this.$router.push({name:"Test"})},userHighConfig:function(){this.$router.push({name:"UserHighConfig"})}}},k()(S,"mounted",function(){var e,t;this.activeIndex=(e=window.location.href,t=e.split("/")[4],f[t])}),k()(S,"computed",{getTableMaxHeight:function(){return this.$store.getters.getContentHeight+"px"}}),S),D={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container-box"},[a("div",{style:{height:e.getTableMaxHeight,overflow:"auto"}},[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"sysTitle"},[a("i",{staticClass:"iconfont sysIcon"},[e._v("")]),e._v(" "),a("span",{staticClass:"sysMan"},[e._v("系统管理")])]),e._v(" "),a("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":e.activeIndex,"background-color":"#000000","text-color":"#9a9a9a","active-text-color":"#00ffc6","unique-opened":!0,router:!0}},[a("el-menu-item",{staticClass:"menuItem",attrs:{index:"3-1"},on:{click:e.deviceRoute}},[a("i",{staticClass:"iconfont"},[e._v("")]),e._v(" "),a("span",{staticClass:"menuName"},[e._v("设备管理")])]),e._v(" "),a("el-menu-item",{staticClass:"menuItem",attrs:{index:"3-2"},on:{click:e.channelRoute}},[a("i",{staticClass:"iconfont"},[e._v("")]),e._v(" "),a("span",{staticClass:"menuName"},[e._v("视频源管理")])]),e._v(" "),a("el-menu-item",{staticClass:"menuItem",attrs:{index:"3-3"},on:{click:e.networkRoute}},[a("i",{staticClass:"iconfont"},[e._v("")]),e._v(" "),a("span",{staticClass:"menuName"},[e._v("网络设置")])]),e._v(" "),a("el-menu-item",{staticClass:"menuItem",attrs:{index:"3-4"},on:{click:e.maintainRoute}},[a("i",{staticClass:"iconfont"},[e._v("")]),e._v(" "),a("span",{staticClass:"menuName"},[e._v("系统维护")])]),e._v(" "),a("el-menu-item",{directives:[{name:"show",rawName:"v-show",value:"admin"===this.userName,expression:"this.userName === 'admin'"}],staticClass:"menuItem",attrs:{index:"3-5"},on:{click:e.userHighConfig}},[a("i",{staticClass:"iconfont"},[e._v("")]),e._v(" "),a("span",{staticClass:"menuName"},[e._v("高级用户配置")])]),e._v(" "),a("el-menu-item",{directives:[{name:"show",rawName:"v-show",value:"admin"===this.userName,expression:"this.userName === 'admin'"}],staticClass:"menuItem",attrs:{index:"3-6"},on:{click:e.roiRoute}},[a("i",{staticClass:"iconfont"},[e._v("")]),e._v(" "),a("span",{staticClass:"menuName"},[e._v("智能分析设置")])]),e._v(" "),a("el-menu-item",{directives:[{name:"show",rawName:"v-show",value:"admin"===this.userName,expression:"this.userName === 'admin'"}],staticClass:"menuItem",attrs:{index:"3-7"},on:{click:e.testRoute}},[a("i",{staticClass:"iconfont"},[e._v("")]),e._v(" "),a("span",{staticClass:"menuName"},[e._v("测试设置")])])],1)],1)],1)])},staticRenderFns:[]};var P={data:function(){return{routerPath:""}},created:function(){this.routerPath=window.location.pathname},mounted:function(){},components:{NavMenu:T,LeftMenu:a("VU/8")(I,D,!1,function(e){a("6EIJ")},"data-v-5e6bde58",null).exports},watch:{$route:function(e,t){this.routerPath=e.path}}},$={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticStyle:{height:"100%"}},[t("div",{staticClass:"navMenu"},[t("nav-menu")],1),this._v(" "),"/player"!==this.routerPath&&"/face"!==this.routerPath&&"/faceTimeEdit"!==this.routerPath&&"/log"!==this.routerPath?t("div",{staticClass:"leftMenu",staticStyle:{height:"calc(100% - 56px)"}},[t("left-menu")],1):this._e(),this._v(" "),t("div",{staticStyle:{height:"calc(100% - 56px)","min-height":"400px"}},[t("router-view")],1)])},staticRenderFns:[]};var j=a("VU/8")(P,$,!1,function(e){a("jBxn")},"data-v-6c62e863",null).exports,N=a("Dd8w"),E=a.n(N),L=a("TQvf"),R=a.n(L),U={data:function(){var e=this;return{LoginLogo:"",Title:"",getDeviceCodeText:"获取设备机器码",checked:!0,deviceCodeVisible:!1,resetPwdFormVisible:!1,resetPwdActive:0,ruleForm:{userName:"",password:""},resetPwdForm:{machineCode:"",license:"",password:""},resetPwdFormFileList:[],rules:{userName:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]},resetPwdFormRules:{license:[{required:!0,message:"请输入证书",trigger:"blur"}],password:[{required:!0,validator:function(e,t,a){""===t?a(new Error("请输入密码")):/^(?=.*[0-9])(?=.*[A-Z])(?=.*[a-z])(?=.*[^a-zA-Z0-9]).{8,16}$/.test(t.replace(/ /g,""))?a():a(new Error("密码必须同时包含大写、小写、数字和特殊字符且8位"))},trigger:"blur"}],repassword:[{required:!0,validator:function(t,a,s){""===a?s(new Error("请输入密码")):a!==e.resetPwdForm.password?s(new Error("两次密码不一致")):s()},trigger:"blur"}]}}},created:function(){this.getLogo(),this.getCheck()},methods:{getLogo:function(){var e=this;d.a.get("/api/webconfig?"+(new Date).getTime()).then(function(t){if(t){var a=t.data.data;e.LoginLogo=a.LoginLogo,e.Title=a.Title}})},getCheck:function(){localStorage.getItem("usr")&&localStorage.getItem("pwd")&&(this.ruleForm.userName=localStorage.getItem("usr"),this.ruleForm.password=localStorage.getItem("pwd")),"true"===localStorage.getItem("checked")?this.checked=!0:this.checked=!1},submitForm:function(e){var t=this;this.ruleForm.userName?this.ruleForm.password?d.a.post("/api/login",E()({},this.ruleForm,{password:w.encrypt(this.ruleForm.password)})).then(function(e){if(1===e.data.result){var a=e.data.data.token;localStorage.setItem("token","Bearer "+a),localStorage.setItem("userName",t.ruleForm.userName),localStorage.setItem("checked",t.checked),t.checked?(localStorage.setItem("usr",t.ruleForm.userName),localStorage.setItem("pwd",t.ruleForm.password)):(localStorage.setItem("usr",""),localStorage.setItem("pwd","")),localStorage.setItem("routePath","/player"),t.$router.push({name:"Player"})}else t.$alert("请输入正确的用户名和密码!",{confirmButtonText:"确定"})}).catch(function(e){console.log(e),t.$alert("请输入正确的用户名和密码!",{confirmButtonText:"确定"})}):this.$Msg("请输入密码!","error"):this.$Msg("请输入用户名!","error")},changeFile:function(e,t){var a=this;t.length>0&&(this.resetPwdFormFileList=[t[t.length-1]]);var s=new FileReader;s.readAsDataURL(e.raw),s.onload=function(){a.resetPwdForm.license=s.result.split(",")[1]}},getDeviceCode:function(){var e=this;d.a.get("/api/getMachineCode").then(function(t){1===t.data.result&&(e.resetPwdForm.machineCode=t.data.data.MachineCode,e.deviceCodeVisible=!0)})},resetPwdFormNext:function(){var e=this;0!==this.resetPwdActive?1===this.resetPwdActive&&this.$refs.resetPwdForm.validate(function(t){if(!t)return!1;d.a.put("/api/resetPasswd",E()({},e.resetPwdForm,{password:w.encrypt(e.resetPwdForm.password)})).then(function(t){1===t.data.result?(e.$message({showClose:!0,message:"重置密码成功",type:"success"}),e.ruleForm.password=e.resetPwdForm.password,e.resetPwdDialogCancel()):e.$message({showClose:!0,message:"重置失败",type:"error"})}).catch(function(t){e.$message({showClose:!0,message:"重置失败",type:"error"})})}):this.deviceCodeVisible?this.resetPwdActive++:this.$message({showClose:!0,message:"请先点击获取设备机器码",type:"error"})},resetPwdDialogCancel:function(){this.resetPwdActive=0,this.resetPwdForm={machineCode:"",license:"",password:""},this.deviceCodeVisible=!1,this.resetPwdFormVisible=!1},clipboard:function(e){var t=this,a=new R.a(".copy-device-code",{text:function(){return e}});a.on("success",function(){t.$message({showClose:!0,message:"复制成功",type:"success"}),a.destroy()}),a.on("error",function(){t.$message({showClose:!0,message:"复制失败",type:"error"}),a.destroy()})}},computed:{machineCodeSplit:function(){for(var e=[],t=0;t<this.resetPwdForm.machineCode.length/4;t++)e.push(this.resetPwdForm.machineCode.slice(4*t,4*t+4));return e}},watch:{}},z={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"container-box"},[a("div",[this.LoginLogo?a("img",{staticClass:"img_logo",attrs:{src:"data:image/jpeg;base64,"+this.LoginLogo,alt:""}}):a("img",{staticClass:"img_logo",staticStyle:{background:"black"},attrs:{alt:""}})]),e._v(" "),a("div",{staticClass:"logo_title"},[a("span",[e._v(e._s(this.Title))])]),e._v(" "),a("div",[a("div",{staticClass:"inputDiv"},[a("i",{staticClass:"iconfont",staticStyle:{color:"#f1f1f1"}},[e._v("")]),e._v(" "),a("span",{staticClass:"label",staticStyle:{color:"#f1f1f1","font-size":"11px"}},[e._v("用户")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.ruleForm.userName,expression:"ruleForm.userName"}],staticClass:"input",staticStyle:{"background-color":"transparent"},attrs:{type:"text",autocomplete:"off",placeholder:"请输入用户名"},domProps:{value:e.ruleForm.userName},on:{input:function(t){t.target.composing||e.$set(e.ruleForm,"userName",t.target.value)}}})]),e._v(" "),a("div",{staticClass:"inputDiv"},[a("i",{staticClass:"iconfont",staticStyle:{color:"#f1f1f1"}},[e._v("")]),e._v(" "),a("span",{staticStyle:{color:"#f1f1f1","font-size":"11px"}},[e._v("密码")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.ruleForm.password,expression:"ruleForm.password"}],staticClass:"input",staticStyle:{background:"black"},attrs:{type:"password",autocomplete:"new-password",placeholder:"请输入密码"},domProps:{value:e.ruleForm.password},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.submitForm.apply(null,arguments)},input:function(t){t.target.composing||e.$set(e.ruleForm,"password",t.target.value)}}})])]),e._v(" "),a("div",{staticStyle:{padding:"20px 10px"}},[a("el-checkbox",{attrs:{checked:e.checked},model:{value:e.checked,callback:function(t){e.checked=t},expression:"checked"}},[a("span",{staticStyle:{color:"#01fec7","font-size":"11px"}},[e._v("记住密码")])]),e._v(" "),a("el-button",{staticStyle:{"font-size":"11px",padding:"3px","border-bottom":"1px solid",float:"right"},attrs:{type:"text"},on:{click:function(t){e.resetPwdFormVisible=!0}}},[e._v("忘记密码")])],1),e._v(" "),a("div",[a("el-button",{staticStyle:{background:"#00ffc6",border:"0px",color:"white",width:"100%"},on:{click:e.submitForm}},[e._v("登录")])],1)]),e._v(" "),a("el-dialog",{attrs:{title:"重置密码",visible:e.resetPwdFormVisible,center:"","before-close":e.resetPwdDialogCancel,top:"5vh"},on:{"update:visible":function(t){e.resetPwdFormVisible=t}}},[a("div",{staticStyle:{display:"flex","flex-flow":"column","align-items":"center"}},[a("el-steps",{staticStyle:{width:"100%"},attrs:{active:e.resetPwdActive,"finish-status":"success"}},[a("el-step",{attrs:{title:"获取设备机器码",description:"获取机器码, 联系并发送给软件制造商以获得修改密码所需的证书文件"}}),e._v(" "),a("el-step",{attrs:{title:"导入证书"}})],1),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:!e.deviceCodeVisible,expression:"!deviceCodeVisible"}],staticStyle:{"margin-top":"20px"},attrs:{size:"mini"},on:{click:e.getDeviceCode}},[e._v("点击获取设备机器码")]),e._v(" "),e.deviceCodeVisible?a("div",{staticStyle:{display:"flex",margin:"20px auto 10px"}},e._l(e.machineCodeSplit,function(t,s){return a("el-tag",{key:s,staticStyle:{"margin-left":"10px","font-size":"1.1em"}},[e._v(e._s(t))])}),1):e._e(),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:e.deviceCodeVisible,expression:"deviceCodeVisible"}],staticClass:"copy-device-code",attrs:{type:"text",size:"medium",icon:"el-icon-document-copy"},on:{click:function(t){return e.clipboard(e.resetPwdForm.machineCode)}}},[e._v("点击复制")]),e._v(" "),a("el-form",{directives:[{name:"show",rawName:"v-show",value:1===e.resetPwdActive,expression:"resetPwdActive === 1"}],ref:"resetPwdForm",staticStyle:{width:"100%","margin-top":"10px"},attrs:{model:e.resetPwdForm,rules:e.resetPwdFormRules}},[a("el-form-item",{attrs:{label:"上传证书","label-width":"120px",prop:"license"}},[a("el-upload",{attrs:{drag:"","auto-upload":!1,"on-change":e.changeFile,action:"","file-list":e.resetPwdFormFileList}},[a("i",{staticClass:"el-icon-upload"}),e._v(" "),a("div",{staticClass:"el-upload__text"},[e._v("将文件拖到此处，或"),a("em",[e._v("点击上传")])])])],1),e._v(" "),a("el-form-item",{attrs:{label:"新密码","label-width":"120px",prop:"password"}},[a("el-input",{attrs:{autocomplete:"off",type:"password"},model:{value:e.resetPwdForm.password,callback:function(t){e.$set(e.resetPwdForm,"password",t)},expression:"resetPwdForm.password"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"确认密码","label-width":"120px",prop:"repassword"}},[a("el-input",{attrs:{autocomplete:"off",type:"password"},model:{value:e.resetPwdForm.repassword,callback:function(t){e.$set(e.resetPwdForm,"repassword",t)},expression:"resetPwdForm.repassword"}})],1)],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"mini"},on:{click:e.resetPwdDialogCancel}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.resetPwdFormNext}},[e._v("下一步")])],1)])],1)},staticRenderFns:[]};var H=a("VU/8")(U,z,!1,function(e){a("q2gW"),a("8AZl")},"data-v-778ac728",null).exports,A=a("PJh5"),V=a.n(A),M={date:function(e,t){return V()(e).format(t)},stamp:function(e){var t=e;return null!=t&&""!=t&&(t=t>60&&t<3600?parseInt(t/60)+":"+parseInt(60*(parseFloat(t/60)-parseInt(t/60))):t>=3600&&t<86400?parseInt(t/3600)+":"+parseInt(60*(parseFloat(t/3600)-parseInt(t/3600)))+":"+parseInt(60*(parseFloat(60*(parseFloat(t/3600)-parseInt(t/3600)))-parseInt(60*(parseFloat(t/3600)-parseInt(t/3600))))):t>=86400?parseInt(t/3600/24)+":"+parseInt(24*(parseFloat(t/3600/24)-parseInt(t/3600/24)))+":"+parseInt(60*(parseFloat(t/3600)-parseInt(t/3600)))+":"+parseInt(60*(parseFloat(60*(parseFloat(t/3600)-parseInt(t/3600)))-parseInt(60*(parseFloat(t/3600)-parseInt(t/3600))))):parseInt(t)+""),t}},q=(a("hqo3"),window.location.hostname),O={data:function(){return{contentHeight:this.$store.getters.getContentHeight,contentWidth:this.$store.getters.getContentWidth,headList:[{imgHead:a("Llgx"),date:""},{imgHead:a("Llgx"),date:""},{imgHead:a("Llgx"),date:""},{imgHead:a("Llgx"),date:""},{imgHead:a("Llgx"),date:""},{imgHead:a("Llgx"),date:""},{imgHead:a("Llgx"),date:""}],playerOptions:{width:"",sources:[{type:"rtmp/mp4",src:""}],techOrder:["flash"],autoplay:!0,controls:!1},logData:[],lightStatus:{},tableHeight:"",ocxUrl:"",img1Url:a("A1tS"),img2Url:a("chPc"),img3Url:a("ZK0V"),imgHead:a("Llgx"),leftMarginTop:0,rightNameColor:"",dateRight:"",status:"",lastStatus:"",lastOk:!1,browerType:"notIE"}},created:function(){var e=this;this.isIE(),this.getLog(),this.intervalStatus=setInterval(function(){h.get("/api/status?"+(new Date).getTime()).then(function(t){var a=t.data.data;e.lightStatus=a,"unknown"===e.lightStatus.regStatus?(e.rightNameColor="red",e.lightStatus.regStatus="陌生人"):e.rightNameColor="#00ffc6";var s=a.faceData;if(s){var i=M.date(new Date,"HH:mm:ss");e.dateRight=i,e.headList.unshift({imgHead:"data:image/jpeg;base64,"+s,date:i}),e.headList.slice()}}).catch(function(e){return console.log(e)})},1e3),this.intervalLog=setInterval(function(){h.get("/api/fevent/newest?"+(new Date).getTime()).then(function(t){e.logData=[];var a=t.data.data;a?a.forEach(function(t){e.logData.push(t)}):console.log("连接失败")})},1e3),this.intervalDeviceStatus=setInterval(function(){h.get("/api/deviceStatusMsg?"+(new Date).getTime()).then(function(t){t&&(e.status=t.data.data,"isOk"===e.lastStatus?e.lastOk=!1:e.lastOk=!0,e.status.indexOf("正常")>0?e.lastStatus="isOk":e.lastStatus="isErr")})},1e3)},mounted:function(){this.importPlayer();document.getElementById("left-head");var e=document.getElementById("left-ul"),t=(e.getElementsByTagName("li"),0);this.timer=setInterval(function(){t-=2,e.offsetTop<-270?(e.style.marginTop="0px",t=0):e.style.marginTop=t+"px"},100);var a=this;window.onresize=function(){a.contentHeight=window.innerHeight,a.contentWidth=window.innerWidth,document.getElementById("scene1")&&a.onSizeChange()}},beforeDestroy:function(){clearInterval(this.intervalStatus),clearInterval(this.intervalLog),clearInterval(this.intervalDeviceStatus),clearInterval(this.timer)},methods:{isIE:function(){window.ActiveXObject||"ActiveXObject"in window?this.browerType="IE":this.browerType="notIE"},importPlayer:function(){var e=this;if(window.ActiveXObject||"ActiveXObject"in window)setTimeout(function(){e.playUrl()},200);else{var t=void 0;if(document.querySelectorAll("script").forEach(function(e){"fgplayer"===e.id&&(t=!0)}),t)this.playUrl();else{var a=document.createElement("script");a.setAttribute("id","fgplayer"),a.type="text/javascript",a.src="/public/player/fgplayer.min.js",a.onload=function(){return e.playUrl()},document.body.appendChild(a)}}},playUrl:function(){var e=this;if(window.ActiveXObject||"ActiveXObject"in window){var t='{"url":"snemface://'+q+':7070/3","playcache":500,"ratio":false}';SNEmfacePlayerOcx.PlayURL(t)}else FGPlayer.create({canvas:document.getElementById("scene1"),onSizeChange:this.onSizeChange}).then(function(t){e.playerStop||(e.player=t,t.play("ws://"+q+":7878/video/color",{lateopen:!0,preset:"realtime"}))}).catch(function(e){console.log(e)})},onSizeChange:function(){setTimeout(function(){if(document.querySelector("#scene1")){document.querySelector("#scene1").style.marginLeft="0px",document.querySelector("#scene1").style.marginTop="0px";var e=document.querySelector(".mid-box").offsetWidth-4,t=document.querySelector(".mid-box").offsetHeight-4,a=e/t,s=0,i=0;a>830/464?(i=t,s=830*t/464):(i=464*e/830,s=e),document.querySelector("#scene1").setAttribute("width",s),document.querySelector("#scene1").setAttribute("height",i),a>830/464?document.querySelector("#scene1").style.marginLeft=(e-s)/2+"px":document.querySelector("#scene1").style.marginTop=(t-i)/2+"px"}},1)},getLog:function(){var e=this;this.axios({methods:"get",url:"/api/fevent/newest?"+(new Date).getTime(),data:{}}).then(function(t){e.logData=[];var a=t.data.data;a?a.forEach(function(t){e.logData.push(t)}):console.log("连接失败")})},drawImg:function(){var e=.5*document.documentElement.clientWidth,t=.68*window.screen.height;this.videoWidth=e,this.videoHeight=t,this.deviceHeight=e*(9/16),this.deviceTop=.5*(this.videoHeight-this.deviceHeight)},SecondToDate:function(e){return M.stamp(e)}},watch:{contentHeight:{handler:function(e){this.$store.commit("changeContentHeight",e)}},contentWidth:{handler:function(e){this.$store.commit("changeContentWidth",e)}}}},B={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"playerContainer"},[a("div",{staticClass:"player_box"},[a("div",{staticClass:"left"},[a("div",{staticClass:"left-box"},[e._m(0),e._v(" "),a("div",{staticClass:"left-head",attrs:{id:"left-head"}},[a("ul",{attrs:{id:"left-ul"}},e._l(e.headList,function(t,s){return a("li",{key:s,staticClass:"left-head-icon",staticStyle:{width:"88px"}},[a("img",{staticClass:"left-img",staticStyle:{width:"88px"},attrs:{src:t.imgHead}}),e._v(" "),a("div",{staticClass:"left-date",staticStyle:{width:"88px"}},[a("span",{staticStyle:{"font-size":"12px"}},[e._v("\r\n                  "+e._s(t.date)+"\r\n                ")])])])}),0)])])]),e._v(" "),a("div",{staticClass:"mid"},[a("div",{staticClass:"mid-box"},[a("object",{directives:[{name:"show",rawName:"v-show",value:"IE"===e.browerType,expression:"browerType === 'IE'"}],attrs:{id:"SNEmfacePlayerOcx",width:.6*e.contentWidth-2+"px",height:.7*e.contentHeight+"px",CLASSID:"CLSID:B2D47814-EF65-4C50-8B5D-B6B43078D76A"}}),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],staticStyle:{margin:"0 5px"}},[a("el-input",{staticStyle:{width:"300px"},attrs:{size:"small",name:"playaddr"},model:{value:e.ocxUrl,callback:function(t){e.ocxUrl=t},expression:"ocxUrl"}}),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){return e.playUrl()}}},[e._v("Play")])],1),e._v(" "),a("canvas",{directives:[{name:"show",rawName:"v-show",value:"notIE"===e.browerType,expression:"browerType === 'notIE'"}],ref:"scene",attrs:{id:"scene1"}})])]),e._v(" "),a("div",{staticClass:"right",staticStyle:{"font-size":"14px"}},[this.status.indexOf("正常")>=0&&this.lastOk?a("div",{staticClass:"msgOk flexColumn"},[a("span",[e._v("正常")])]):this.status.indexOf("正常")<0&&"isErr"===this.lastStatus?a("div",{staticClass:"msgErr flexColumn"},[a("span",[e._v(e._s(this.status))])]):e._e(),e._v(" "),a("div",{staticClass:"right-box"},[e._m(1),e._v(" "),a("div",{staticClass:"right-move"},[a("div",{staticStyle:{height:"120px"}},[this.lightStatus.regStatus?a("div",["unknown"==this.lightStatus.regStatus||"none"==this.lightStatus.regStatus?a("img",{staticStyle:{margin:"0 10px 0 0",width:"102px",height:"120px",float:"left",background:"black"}}):a("img",{staticStyle:{margin:"0 0 0 20px",float:"left",width:"102px",height:"120px"},attrs:{src:"data:image/jpeg;base64,"+e.lightStatus.faceData}}),e._v(" "),a("div",{staticClass:"flexColumn",style:{display:"table",width:"146px",height:"68px"}},[a("div",{staticClass:"right-panel-title",style:{color:this.rightNameColor,"font-size":"22px",display:"table-cell",verticalAlign:"middle",width:"100%"}},[e._v("\r\n                  "+e._s(this.lightStatus.regStatus)+"\r\n                ")]),e._v(" "),a("br")]),e._v(" "),a("div",{staticClass:"flexColumn",staticStyle:{height:"44px","font-size":"18px"}},[a("div",[e._v(e._s(this.dateRight))])])]):e._e()]),e._v(" "),a("div",{staticClass:"status",staticStyle:{"font-size":"14px",padding:"0 0 0 20px"}},[a("div",{staticClass:"flexbetween"},[0==this.lightStatus.notDetect?a("img",{staticStyle:{width:"16px",height:"16px"},attrs:{src:e.img1Url}}):1==this.lightStatus.notDetect?a("img",{staticStyle:{width:"16px",height:"16px"},attrs:{src:e.img2Url}}):2==this.lightStatus.notDetect?a("img",{staticStyle:{width:"16px",height:"16px"},attrs:{src:e.img3Url}}):e._e(),e._v(" "),e._m(2),e._v(" "),a("span",{},[e._v(e._s(this.SecondToDate(this.lightStatus.notDetectSecond)))])]),e._v(" "),a("div",{staticClass:"flexbetween",staticStyle:{"margin-top":"10px"}},[0==this.lightStatus.headDown?a("img",{staticStyle:{width:"16px",height:"16px"},attrs:{src:e.img1Url}}):1==this.lightStatus.headDown?a("img",{staticStyle:{width:"16px",height:"16px"},attrs:{src:e.img2Url}}):2==this.lightStatus.headDown?a("img",{staticStyle:{width:"16px",height:"16px"},attrs:{src:e.img3Url}}):e._e(),e._v(" "),e._m(3),e._v(" "),a("span",[e._v(e._s(this.SecondToDate(this.lightStatus.headDownSecond)))])]),e._v(" "),a("div",{staticClass:"flexbetween",staticStyle:{"margin-top":"10px"}},[0==this.lightStatus.eye?a("img",{staticStyle:{width:"16px",height:"16px"},attrs:{src:e.img1Url}}):1==this.lightStatus.eye?a("img",{staticStyle:{width:"16px",height:"16px"},attrs:{src:e.img2Url}}):2==this.lightStatus.eye?a("img",{staticStyle:{width:"16px",height:"16px"},attrs:{src:e.img3Url}}):e._e(),e._v(" "),e._m(4),e._v(" "),a("span",[e._v(e._s(this.SecondToDate(this.lightStatus.eyeSecond)))])]),e._v(" "),a("div",{staticClass:"flexbetween",staticStyle:{"margin-top":"10px"}},[0==this.lightStatus.phone?a("img",{staticStyle:{width:"16px",height:"16px"},attrs:{src:e.img1Url}}):1==this.lightStatus.phone?a("img",{staticStyle:{width:"16px",height:"16px"},attrs:{src:e.img2Url}}):2==this.lightStatus.phone?a("img",{staticStyle:{width:"16px",height:"16px"},attrs:{src:e.img3Url}}):e._e(),e._v(" "),e._m(5),e._v(" "),a("span",[e._v(e._s(this.SecondToDate(this.lightStatus.phoneSecond)))])]),e._v(" "),a("div",{staticClass:"flexbetween",staticStyle:{"margin-top":"10px"}},[0==this.lightStatus.Smoke?a("img",{staticStyle:{width:"16px",height:"16px"},attrs:{src:e.img1Url}}):1==this.lightStatus.Smoke?a("img",{staticStyle:{width:"16px",height:"16px"},attrs:{src:e.img2Url}}):2==this.lightStatus.Smoke?a("img",{staticStyle:{width:"16px",height:"16px"},attrs:{src:e.img3Url}}):e._e(),e._v(" "),e._m(6),e._v(" "),a("span",[e._v(e._s(this.SecondToDate(this.lightStatus.SmokeSecond)))])]),e._v(" "),a("div",{staticClass:"event",staticStyle:{"font-size":"14px","margin-top":"10px","overflow-y":"auto"}},e._l(e.logData,function(t,s){return a("div",{key:s,staticStyle:{margin:"5px 0 0 0"}},[a("div",{staticClass:"flexbetween"},[a("span",[e._v(e._s(t.eventTime))]),e._v(" "),a("span",[e._v(e._s(JSON.parse(t.eventDetail).name))])]),e._v(" "),a("span",[e._v(e._s(JSON.parse(t.eventDetail).description))])])}),0)])])])])])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"left-up"},[t("h1",{staticClass:"left-panel-title"},[this._v("实时抓拍")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"right-up"},[t("h2",{staticClass:"right-panel-title"},[this._v("实时事件")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("i",{staticClass:"iconfont"},[this._v("")]),this._v(" "),t("span",[this._v("未检测到")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("i",{staticClass:"iconfont"},[this._v("")]),this._v(" "),t("span",[this._v("低头")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("i",{staticClass:"iconfont"},[this._v("")]),this._v(" "),t("span",[this._v("闭眼")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("i",{staticClass:"iconfont"},[this._v("")]),this._v(" "),t("span",[this._v("打电话")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("i",{staticClass:"el-icon-smoking"}),this._v(" "),t("span",[this._v("吸烟")])])}]};var W=a("VU/8")(O,B,!1,function(e){a("gv0W")},"data-v-01c71b86",null).exports,G={data:function(){return{pageSize:20,currentPage:1}},props:{todos:{required:!0,type:Object}},methods:{tableHeaderColor:function(e){e.row,e.column;var t=e.rowIndex;e.columnIndex;if(0===t)return"background-color:rgb(29,29,29);color:#9a9a9a;font-weight:400;font-size:11px;border:0;border-bottom: 1px solid #373737;height:29px;line-height:29px"},cellStyle:function(e,t,a,s){return"background: black;font-size:12px;height:45px;line-height:45pxborder: 0;border-bottom: 1px solid #373737;"},changeFun:function(){this.$emit("tableSelectData",this.$refs.multipleTable.store.states.selection)},handleCurrentChange:function(e){this.$emit("isTableLoading","true"),this.todos.getTableData(e),this.currentPage=e}},computed:{getTableMaxHeight:function(){return this.$store.getters.getContentHeight-100+"px"}}},Z={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"scroll"},[a("div",{staticStyle:{height:"520px",overflow:"auto","padding-right":"10px"}},[a("el-table",{staticStyle:{background:"black"},attrs:{data:e.todos.data,"header-cell-style":e.tableHeaderColor,"cell-style":e.cellStyle,height:"100%",size:"medium",fit:!0,stripe:""}},[e.todos.tableParams.selection?a("el-table-column",{attrs:{type:"selection",width:"55"}}):e._e(),e._v(" "),e.todos.tableParams.order?a("el-table-column",{attrs:{label:"序号",type:"index",width:"150",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s((e.currentPage-1)*e.pageSize+t.$index+1))])]}}],null,!1,2372993522)}):e._e(),e._v(" "),e._l(Object.entries(e.todos.tableParams),function(t,s){return Object.is(typeof t[1],"object")?a("el-table-column",{key:s,attrs:{prop:t[0],label:t[1].label,width:t[1].width,align:"center"}}):e._e()}),e._v(" "),e.todos.tableParams.sex?a("el-table-column",{attrs:{width:"80",prop:"sex",label:"性别",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return["m"==t.row.sex?a("div",[e._v("男")]):a("div",[e._v("女")])]}}],null,!1,53547643)}):e._e(),e._v(" "),e.todos.tableParams.faceImage?a("el-table-column",{attrs:{prop:"image",label:"人脸图片",align:"center"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("img",{staticStyle:{"margin-top":"5px"},attrs:{src:"data:image/jpeg;base64,"+e.row.faceImageData,width:"40",height:"40"}})]}}],null,!1,3353328470)}):e._e(),e._v(" "),e.todos.tableParams.operationAddTime?a("el-table-column",{attrs:{label:"操作",width:"160",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{staticClass:"tableOpr",attrs:{type:"text",size:"small"},nativeOn:{click:function(a){return a.preventDefault(),e.todos.tableTimeEdit(t.$index,e.todos.data)}}},[e._v("在岗设置")]),e._v(" "),a("el-button",{staticClass:"tableOpr",attrs:{type:"text",size:"small"},nativeOn:{click:function(a){return a.preventDefault(),e.todos.tableEdit(t.$index,e.todos.data)}}},[a("i",{staticClass:"iconfont tableOpr"},[e._v("")])]),e._v(" "),a("el-button",{staticClass:"tableOpr",attrs:{type:"text",size:"small"},nativeOn:{click:function(a){return a.preventDefault(),e.todos.tableDelete(t.$index,e.todos.data)}}},[a("i",{staticClass:"iconfont tableOpr"},[e._v("")])])]}}],null,!1,3730624892)}):e._e(),e._v(" "),e.todos.tableParams.operation?a("el-table-column",{attrs:{label:"操作",width:"120",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{staticClass:"tableOpr",attrs:{type:"text",size:"small"},nativeOn:{click:function(a){return a.preventDefault(),e.todos.tableEdit(t.$index,e.todos.data)}}},[e._v("查看")]),e._v(" "),a("el-button",{staticClass:"tableOpr",attrs:{type:"text",size:"small"},nativeOn:{click:function(a){return a.preventDefault(),e.todos.tableDelete(t.$index,e.todos.data)}}},[e._v("删除")])]}}],null,!1,3488657631)}):e._e(),e._v(" "),e.todos.tableParams.operationOnlyEdit?a("el-table-column",{attrs:{label:"操作",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text"},nativeOn:{click:function(a){return a.preventDefault(),e.todos.tableEdit(t.$index,e.todos.data)}}},[a("i",{staticClass:"iconfont tableOpr"},[e._v("")])])]}}],null,!1,3070698853)}):e._e()],2)],1),e._v(" "),e.todos.tableParams.pagination?a("el-pagination",{staticStyle:{float:"right",margin:"10px 5px 0 0"},attrs:{"current-page":e.currentPage,"page-size":e.pageSize,layout:"total, prev, pager, next, jumper",total:e.todos.getTotalPages},on:{"current-change":e.handleCurrentChange,click:e.handleCurrentChange}}):e._e()],1)},staticRenderFns:[]};var Y=a("VU/8")(G,Z,!1,function(e){a("ZP1n")},null,null).exports,Q=a("24OP").json,J={data:function(){return{table:Q,tableData:[],currentPage:1,totalPages:0,tableLoading:!1}},inject:["reload"],created:function(){localStorage.setItem("routePath","/log"),this.getTableData(this.currentPage)},methods:{getTableData:function(e){var t=this;h.get("/api/fevent?pageindex="+e+"&pagesize=20&"+(new Date).getTime()).then(function(e){t.tableData=[],t.totalPages=e.data.count,e.data.data.forEach(function(e){var a=JSON.parse(e.eventDetail),s={eventTime:e.eventTime,name:a.name,description:a.description};t.tableData.push(s)})}).catch(function(e){-1===e.code?(t.$router.push({name:"Login"}),t.$message({showClose:!0,message:"登录超时,请重新登录!",type:"error"})):t.$message({showClose:!0,message:e,type:"error"})})},tableHeaderColor:function(e){e.row,e.column;var t=e.rowIndex;e.columnIndex;if(0===t)return"background-color: black;color: rgb(153,153,153);font-weight: 800;border:0"},cellStyle:function(e,t,a,s){return"background: black;border: 0"},refreshTable:function(){this.reload()}},computed:{getTodos:function(){return{data:this.tableData,getTableData:this.getTableData,getTotalPages:this.totalPages,tableParams:this.table.tableParams,tableEdit:this.faceEdit,tableDelete:this.faceDelete}},getTableMaxHeight:function(){return this.$store.getters.getContentHeight-175+"px"}},components:{CommonTable:Y}},X={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticStyle:{margin:"0px 10px 0 0px"}},[t("el-card",{directives:[{name:"loading",rawName:"v-loading",value:this.tableLoading,expression:"tableLoading"}],staticStyle:{background:"black",border:"0"}},[t("common-table",{attrs:{todos:this.getTodos}}),this._v(" "),t("el-col",{staticStyle:{"margin-top":"10px"},attrs:{span:8}},[t("el-form",[t("el-form-item",[t("button",{staticClass:"button",attrs:{type:"button"},on:{click:this.refreshTable}},[this._v("刷 新")])])],1)],1)],1)],1)},staticRenderFns:[]},K=a("VU/8")(J,X,!1,null,null,null).exports,ee=a("mvHQ"),te=a.n(ee),ae=a("UgTd").json,se={data:function(){return{table:ae,tableData:[],pageSize:20,currentPage:1,totalPages:0,tableLoading:!1,faceForm:{faceImageData:"",name:"",faceID:""},dialogTitle:"添加人员",dialogFormAddVisible:!1,imgShow:!0,addFlag:!0}},inject:["reload"],created:function(){this.getTableData(this.currentPage)},methods:{onClose:function(){this.addFlag=!0},getTableData:function(e){var t=this;h.get("/api/face?pageindex="+e+"&pagesize=20&"+(new Date).getTime()).then(function(e){var a=e.data.data;t.tableData=a,t.totalPages=e.data.count}).catch(function(e){-1===e.code?(t.$router.push({name:"Login"}),t.$message({showClose:!0,message:"登录超时,请重新登录!",type:"error"})):t.$message({showClose:!0,message:e,type:"error"})})},showTableLoading:function(e){this.tableLoading=e},changeFile:function(e,t){var a=this,s=new FileReader;s.readAsDataURL(e.raw),s.onload=function(e){var t=this.result,s=t.substring(t.indexOf(",")+1,t.length);a.imgShow=!1,a.faceForm.faceImageData=s}},tableTimeEdit:function(e,t){var a=t[e];localStorage.setItem("ruleForm",te()(a)),this.$router.push({name:"FaceTimeEdit"})},tableEdit:function(e,t){this.addFlag=!1,this.dialogTitle="修改人员",this.imgShow=!1;var a=t[e];this.faceForm.name=a.name,this.faceForm.faceID=a.faceId,this.faceForm.faceImageData=a.faceImageData,this.faceForm.passTime=a.passTime,this.dialogFormAddVisible=!0},faceDelete:function(e,t){var a=this;this.$confirm("是否确认删除",{confirmButtonText:"确定"}).then(function(){var s=t[e].faceId;h.delete("/api/face/"+s,{data:{faceId:parseInt(s)}}).then(function(e){a.$Msg("删除成功","success"),a.getTableData(a.currentPage)})}).catch(function(e){return console.log(e)})},refreshTable:function(){this.reload()},faceAdd:function(){this.dialogTitle="添加人员",this.imgShow=!0,this.faceForm={},this.dialogFormAddVisible=!0},addForm:function(e){var t=this;"添加人员"===this.dialogTitle?this.$refs[e].validate(function(e){if(!e)return!1;h.post("/api/face",t.faceForm).then(function(e){1===e.data.result?(t.$Msg("添加人脸成功！","success"),t.dialogFormAddVisible=!1,setTimeout(function(){t.getTableData(t.currentPage)},2e3)):t.$Msg("添加人脸失败！","error")}).catch(function(e){t.$Msg("添加失败！","error")})}):this.$refs[e].validate(function(e){if(!e)return!1;h.put("/api/face",t.faceForm).then(function(e){1===e.data.result?(t.$Msg("修改人脸成功！","success"),t.dialogFormAddVisible=!1,setTimeout(function(){t.getTableData(t.currentPage)},2e3)):t.$Msg("修改人脸失败！","error")}).catch(function(e){t.$Msg("修改失败！","error")})})},handleCurrentChange:function(e){this.currentPage=e,this.$emit("serverSide",{currentPage:this.currentPage,pageSize:this.pageSize}),this.getLog()}},computed:{getTodos:function(){return{data:this.tableData,tableParams:this.table.tableParams,tableLoading:this.tableLoading,getTableData:this.getTableData,getTotalPages:this.totalPages,tableTimeEdit:this.tableTimeEdit,tableEdit:this.tableEdit,tableDelete:this.faceDelete}},getTableMaxHeight:function(){return this.$store.getters.getContentHeight-175+"px"}},components:{CommonTable:Y}},ie={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticStyle:{margin:"0px 10px 0 0px",height:"100%",overflow:"auto"}},[s("el-card",{directives:[{name:"loading",rawName:"v-loading",value:e.tableLoading,expression:"tableLoading"}],staticStyle:{background:"black",border:"0"}},[s("common-table",{attrs:{todos:e.getTodos}}),e._v(" "),s("el-col",{staticStyle:{"margin-top":"10px"},attrs:{span:12}},[s("el-form",[s("el-form-item",[s("button",{staticClass:"button",attrs:{type:"button"},on:{click:e.faceAdd}},[e._v("添加")])])],1)],1)],1),e._v(" "),s("el-dialog",{attrs:{title:e.dialogTitle,visible:e.dialogFormAddVisible,width:"570px"},on:{"update:visible":function(t){e.dialogFormAddVisible=t},close:e.onClose}},[s("el-form",{ref:"faceForm",attrs:{inline:!0,model:e.faceForm,"label-width":"80px","label-position":"right"}},[s("el-form-item",{staticStyle:{float:"left",width:"100px",margin:"20px 0 0 40px"}},[e.imgShow?s("img",{ref:"imgDefault",staticClass:"img",staticStyle:{width:"110px",height:"120px","background-color":"#333333"},attrs:{src:a("XoGi")}}):s("img",{ref:"imgFace",staticClass:"img",staticStyle:{width:"110px",height:"120px","background-color":"#333333"},attrs:{src:"data:image/jpeg;base64,"+this.faceForm.faceImageData}}),e._v(" "),e.addFlag?s("el-upload",{staticClass:"addPhoto",attrs:{action:"","list-type":"picture","show-file-list":!1,"auto-upload":!1,"on-change":e.changeFile}},[s("div",[s("span",{staticStyle:{"margin-left":"32px"}},[e._v("添加照片")])])]):e._e()],1),e._v(" "),s("el-form-item",{staticClass:"inputItem",staticStyle:{"margin-left":"20px","margin-top":"36px"},attrs:{label:"姓 名",prop:"name",rules:[{required:!0,message:"请输入人员姓名",trigger:"blur"}]}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.faceForm.name,expression:"faceForm.name"}],staticClass:"inputPos",attrs:{placeholder:"请输入名称"},domProps:{value:e.faceForm.name},on:{input:function(t){t.target.composing||e.$set(e.faceForm,"name",t.target.value)}}})]),e._v(" "),s("el-form-item",{staticClass:"inputItem",staticStyle:{margin:"0px 0 50px 20px"},attrs:{label:"ID",prop:"faceID",rules:[{required:!0,message:"请输入人脸ID",trigger:"blur"}]}},["添加人员"===e.dialogTitle?s("input",{directives:[{name:"model",rawName:"v-model",value:e.faceForm.faceID,expression:"faceForm.faceID"}],staticClass:"inputPos",attrs:{placeholder:"请输入人脸ID"},domProps:{value:e.faceForm.faceID},on:{input:function(t){t.target.composing||e.$set(e.faceForm,"faceID",t.target.value)}}}):s("input",{directives:[{name:"model",rawName:"v-model",value:e.faceForm.faceID,expression:"faceForm.faceID"}],staticClass:"inputPos inputDisabled",attrs:{disabled:""},domProps:{value:e.faceForm.faceID},on:{input:function(t){t.target.composing||e.$set(e.faceForm,"faceID",t.target.value)}}})])],1),e._v(" "),s("div",{staticStyle:{"border-top":"1px solid #373737"}},[s("button",{staticClass:"button",staticStyle:{margin:"8px 0 8px 190px"},on:{click:function(t){return e.addForm("faceForm")}}},[e._v("确 定")]),e._v(" "),s("button",{staticClass:"button",on:{click:function(t){e.dialogFormAddVisible=!1}}},[e._v("取 消")])])],1)],1)},staticRenderFns:[]};var re=a("VU/8")(se,ie,!1,function(e){a("LpwU")},"data-v-7f04b046",null).exports,ne={data:function(){return{ruleForm:{name:"",faceId:"",faceImageData:""},rules:{name:[{required:!0,message:"请输入用户名",trigger:"blur"}],faceId:[{required:!0,message:"请输入人脸ID",trigger:"blur"}],faceImageData:[{required:!0,message:"请选择图片",trigger:"blur"}]},userIsAdmin:!0,userName:""}},created:function(){},methods:{changeFile:function(e,t){var a=this,s=new FileReader;s.readAsDataURL(e.raw),s.onload=function(e){var t=this.result,s=t.substring(t.indexOf(",")+1,t.length);a.ruleForm.faceImageData=s}},handleExceed:function(e,t){this.$confirm("当前限制选择 1 张图片, 本次已选择了 "+e.length+" 张图片",{confirmButtonText:"确定"})},onSubmit:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;h.post("/api/face",t.ruleForm).then(function(e){1===e.data.result?t.$confirm("添加成功",{confirmButtonText:"确定"}).then(function(){return t.$router.push({name:"Face"})}):t.$alert("添加失败",{confirmButtonText:"确定"})}).catch(function(e){t.$alert("添加失败",{confirmButtonText:"确定"})})})},goBack:function(){this.$router.push({name:"Face"})}},computed:{getTableMaxHeight:function(){return this.$store.getters.getContentHeight-125+"px"}}},oe={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{margin:"5px 10px 0 225px",height:"100%",overflow:"auto"}},[a("h3",{staticStyle:{"margin-left":"14px",color:"#00ffc6"}},[e._v("添加人脸")]),e._v(" "),a("hr"),e._v(" "),a("el-card",{staticStyle:{background:"black",border:"0"}},[a("div",{style:{height:e.getTableMaxHeight,overflow:"auto"}},[a("el-form",{ref:"ruleForm",staticClass:"demo-form-inline",attrs:{inline:!0,model:e.ruleForm,rules:e.rules,"label-width":"100px","label-position":"left"}},[a("el-col",{attrs:{span:11}},[a("el-form-item",{attrs:{label:"用户名",prop:"name"}},[a("el-input",{attrs:{placeholder:"输入用户名"},model:{value:e.ruleForm.name,callback:function(t){e.$set(e.ruleForm,"name",t)},expression:"ruleForm.name"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:11}},[a("el-form-item",{attrs:{label:"人脸ID",prop:"faceId"}},[a("el-input",{attrs:{placeholder:"输入人脸ID"},model:{value:e.ruleForm.faceId,callback:function(t){e.$set(e.ruleForm,"faceId",t)},expression:"ruleForm.faceId"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"上传图片",prop:"faceImageData"}},[a("el-upload",{attrs:{action:"","list-type":"picture",limit:1,"on-exceed":e.handleExceed,"show-file-list":!0,"auto-upload":!1,"on-change":e.changeFile}},[a("el-button",{attrs:{slot:"trigger",size:"small",type:"primary"},slot:"trigger"},[e._v("请选择人脸上传")])],1)],1)],1),e._v(" "),a("el-col",{staticStyle:{position:"fixed",bottom:"0"}},[a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.onSubmit("ruleForm")}}},[e._v("提交")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.goBack}},[e._v("返回")])],1)],1)],1)],1)])],1)},staticRenderFns:[]};var le=a("VU/8")(ne,oe,!1,function(e){a("jQ3B")},"data-v-df8f0fde",null).exports,ce={data:function(){return{ruleForm:{},timeList:[]}},created:function(){if(this.ruleForm=JSON.parse(localStorage.getItem("ruleForm")),this.ruleForm.passTime){var e=JSON.parse(this.ruleForm.passTime);this.timeList=e}else this.timeList=[{StartTime:"",EndTime:"",MinTime:"0:0:0"}]},methods:{addTime:function(){var e=this.timeList.length,t=e-1,a="";e>=1&&(a=this.timeList[t].EndTime),e>=4?this.$Msg("至多选择四组时间点!"):""!=this.timeList[t].StartTime&&""!=this.timeList[t].EndTime?this.timeList.push({StartTime:"",EndTime:"",MinTime:a}):""==this.timeList[t].StartTime?this.$Msg("请选择开始时间!"):this.$Msg("请选择结束时间!")},deleteTime:function(e){var t=this.timeList.length;1==t?this.$Msg("至少选择一组时间点!"):t-1==e?this.timeList.splice(e,1):this.$Msg("删除时必须一个个从后往前删!")},onSubmit:function(){var e=this,t=[];this.timeList.forEach(function(e){t.push({StartTime:e.StartTime,EndTime:e.EndTime})}),this.ruleForm.passTime=te()(t),h.put("/api/face",this.ruleForm).then(function(t){1===t.data.result?e.$confirm("修改成功",{confirmButtonText:"确定"}).then(function(){return e.$router.push({name:"Face"})}):e.$alert("修改失败",{confirmButtonText:"确定"})}).catch(function(t){e.$alert("修改失败",{confirmButtonText:"确定"})})},goBack:function(){this.$router.push({name:"Face"})}},computed:{getTableMaxHeight:function(){return this.$store.getters.getContentHeight-125+"px"}}},ue={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{margin:"0px 10px 0 0px",height:"100%",overflow:"auto"}},[e._m(0),e._v(" "),a("el-card",{staticStyle:{background:"black",border:"0","margin-left":"30px"}},[a("div",{style:{height:e.getTableMaxHeight,overflow:"auto"}},[a("el-form",{ref:"ruleForm",staticClass:"demo-form-inline",attrs:{inline:!0,model:e.ruleForm,"label-width":"100px","label-position":"left"}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"在岗时间",prop:"faceId"}},[a("i",{staticClass:"iconfont imgFont",on:{click:e.addTime}},[e._v("")])])],1),e._v(" "),e._l(e.timeList,function(t,s){return a("el-col",{key:s,attrs:{span:24}},[a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{label:"开始时间"}},[t.MinTime?a("el-time-picker",{attrs:{placeholder:"请选择时间点","value-format":"HH:mm:ss","picker-options":{selectableRange:t.MinTime+" - 23:59:59"}},model:{value:t.StartTime,callback:function(a){e.$set(t,"StartTime",a)},expression:"item.StartTime"}}):a("el-time-picker",{attrs:{placeholder:"请选择时间点","value-format":"HH:mm:ss"},model:{value:t.StartTime,callback:function(a){e.$set(t,"StartTime",a)},expression:"item.StartTime"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{label:"结束时间"}},[""==t.StartTime?a("el-time-picker",{attrs:{disabled:"",placeholder:"请选择时间点","value-format":"HH:mm:ss","picker-options":{selectableRange:t.StartTime+" - 23:59:59"}},model:{value:t.EndTime,callback:function(a){e.$set(t,"EndTime",a)},expression:"item.EndTime"}}):a("el-time-picker",{attrs:{placeholder:"请选择时间点","value-format":"HH:mm:ss","picker-options":{selectableRange:t.StartTime+" - 23:59:59"}},model:{value:t.EndTime,callback:function(a){e.$set(t,"EndTime",a)},expression:"item.EndTime"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:2}},[a("el-form-item",[a("i",{staticClass:"iconfont imgFont",on:{click:function(t){return e.deleteTime(s)}}},[e._v("")])])],1)],1)}),e._v(" "),a("el-col",{staticStyle:{position:"fixed",bottom:"0"}},[a("el-form-item",[a("button",{staticClass:"button",attrs:{type:"button"},on:{click:function(t){return e.onSubmit("ruleForm")}}},[e._v("提 交")]),e._v(" "),a("button",{staticClass:"button",attrs:{type:"button"},on:{click:e.goBack}},[e._v("返 回")])])],1)],2)],1)])],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"systemTop"},[t("span",{staticClass:"systemTitle"},[this._v("在岗信息设置")])])}]};var me=a("VU/8")(ce,ue,!1,function(e){a("Pzsy")},"data-v-dc3e22f4",null).exports,de={data:function(){return{ruleForm:{name:"",faceId:"",faceImageData:""},rules:{name:[{required:!0,message:"请输入用户名",trigger:"blur"}],faceId:[{required:!0,message:"请输入人脸ID",trigger:"blur"}],faceImageData:[{required:!0,message:"请选择图片",trigger:"blur"}]},userIsAdmin:!0,userName:""}},created:function(){this.ruleForm=JSON.parse(localStorage.getItem("ruleForm"))},methods:{handleExceed:function(e,t){this.$confirm("当前限制选择 1 个文件, 本次选择了 "+e.length+" 个文件",{confirmButtonText:"确定"})},deleteImg:function(){var e=this;this.$confirm("确定删除这张人脸图片吗",{confirmButtonText:"确定"}).then(function(){e.ruleForm.faceImageData=""})},changeFile:function(e,t){var a=this,s=new FileReader;s.readAsDataURL(e.raw),s.onload=function(e){var t=this.result,s=t.substring(t.indexOf(",")+1,t.length);a.ruleForm.faceImageData=s}},onSubmit:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;h.put("/api/face",t.ruleForm).then(function(e){1===e.data.result?t.$confirm("修改成功",{confirmButtonText:"确定"}).then(function(){return t.$router.push({name:"Face"})}):t.$alert("修改失败",{confirmButtonText:"确定"})}).catch(function(e){t.$alert("修改失败",{confirmButtonText:"确定"})})})},goBack:function(){this.$router.push({name:"Face"})}},computed:{getTableMaxHeight:function(){return this.$store.getters.getContentHeight-125+"px"}},components:{}},pe={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{margin:"5px 10px 0 225px",height:"100%",overflow:"auto"}},[a("h3",{staticStyle:{"margin-left":"14px",color:"#00ffc6"}},[e._v("修改人脸")]),e._v(" "),a("hr"),e._v(" "),a("el-card",{staticStyle:{background:"black",border:"0"}},[a("div",{style:{height:e.getTableMaxHeight,overflow:"auto"}},[a("el-form",{ref:"ruleForm",staticClass:"demo-form-inline",attrs:{inline:!0,model:e.ruleForm,rules:e.rules,"label-width":"100px","label-position":"left"}},[a("el-col",{attrs:{span:11}},[a("el-form-item",{attrs:{label:"用户名",prop:"name"}},[a("el-input",{attrs:{placeholder:"输入用户名"},model:{value:e.ruleForm.name,callback:function(t){e.$set(e.ruleForm,"name",t)},expression:"ruleForm.name"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:11}},[a("el-form-item",{attrs:{label:"人脸ID",prop:"faceId"}},[a("el-input",{attrs:{placeholder:"输入人脸ID",disabled:""},model:{value:e.ruleForm.faceId,callback:function(t){e.$set(e.ruleForm,"faceId",t)},expression:"ruleForm.faceId"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:22}},[a("el-form-item",{attrs:{label:"人脸图片",prop:"faceImageData"}},[a("el-upload",{attrs:{action:"",limit:1,"list-type":"picture","on-exceed":e.handleExceed,"show-file-list":!1,"auto-upload":!1,"on-change":e.changeFile}},[e.ruleForm.faceImageData?a("div",{staticClass:"img-icon",on:{click:function(t){return t.stopPropagation(),e.deleteImg.apply(null,arguments)}}},[a("img",{ref:"img",staticClass:"img",attrs:{src:"data:image/jpeg;base64,"+e.ruleForm.faceImageData}}),e._v(" "),a("i",{staticClass:"iconfont icon-close"},[e._v("")])]):a("el-button",{attrs:{slot:"trigger",size:"small",type:"primary"},slot:"trigger"},[e._v("请选择人脸上传")])],1)],1)],1),e._v(" "),a("el-col",{staticStyle:{position:"fixed",bottom:"0"}},[a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.onSubmit("ruleForm")}}},[e._v("提交")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.goBack}},[e._v("返回")])],1)],1)],1)],1)])],1)},staticRenderFns:[]};var ge=a("VU/8")(de,pe,!1,function(e){a("QVEH")},"data-v-6400dbf6",null).exports,he={data:function(){return{loading:!1,radio:1,ruleForm:{DeviceName:"",DeviceID:""},sceneForm:{scene:"0"}}},created:function(){this.getDevice(),this.getScene()},methods:{getDevice:function(){var e=this;h.get("/api/devicename?"+(new Date).getTime()).then(function(t){1===t.data.result?e.ruleForm=t.data.data:e.$Msg("获取视频源失败","error")}).catch(function(t){-1===t.code?(e.$router.push({name:"Login"}),e.$message({showClose:!0,message:"登录超时,请重新登录!",type:"error"})):e.$message({showClose:!0,message:"获取数据失败!",type:"error"})})},getScene:function(){var e=this;h.get("/api/usescenes?"+(new Date).getTime()).then(function(t){1===t.data.result&&(e.sceneForm.scene=String(t.data.data.Usescenes))}).catch(function(t){-1===t.code?(e.$router.push({name:"Login"}),e.$message({showClose:!0,message:"登录超时,请重新登录!",type:"error"})):e.$message({showClose:!0,message:t,type:"error"})})},onSubmitDeviceName:function(e){var t=this;this.$refs[e].validate(function(e){e&&h.put("/api/devicename",{DeviceName:t.ruleForm.DeviceName}).then(function(e){1===e.data.result?t.$Msg("设备信息修改成功！","success"):t.$Msg("设备信息修改失败！","error")}).catch(function(e){return console.log(e)})})},onSubmitScene:function(e){var t=this;this.$refs[e].validate(function(e){e&&h.put("/api/usescenes",{Usescenes:Number(t.sceneForm.scene)}).then(function(e){1===e.data.result?t.$Msg("使用场景类型修改成功！","success"):t.$Msg("使用场景类型修改失败！","error")}).catch(function(e){return console.log(e)})})}},computed:{getTableMaxHeight:function(){return this.$store.getters.getContentHeight-125+"px"}}},fe={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"systemBox device",attrs:{"element-loading-text":"正在切换至三维行为分析系统中，请耐心等待。。。","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.5)"}},[e._m(0),e._v(" "),a("el-card",{staticStyle:{background:"black",border:"0"}},[a("el-form",{ref:"ruleForm",staticStyle:{"margin-top":"-5px"},attrs:{inline:!0,model:e.ruleForm,"label-width":"80px","label-position":"right"}},[a("el-col",{attrs:{span:22}},[a("el-form-item",{staticClass:"inputItem",attrs:{label:"设备ID"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.ruleForm.DeviceID,expression:"ruleForm.DeviceID"}],staticClass:"inputSys inputDisabled",attrs:{disabled:""},domProps:{value:e.ruleForm.DeviceID},on:{input:function(t){t.target.composing||e.$set(e.ruleForm,"DeviceID",t.target.value)}}})])],1),e._v(" "),a("el-col",{attrs:{span:22}},[a("el-form-item",{staticClass:"inputItem",attrs:{label:"设备名称",prop:"DeviceName",rules:[{required:!0,message:"请输入设备名称",trigger:"blur"}]}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.ruleForm.DeviceName,expression:"ruleForm.DeviceName"}],staticClass:"inputSys",attrs:{placeholder:"请输入设备名称"},domProps:{value:e.ruleForm.DeviceName},on:{input:function(t){t.target.composing||e.$set(e.ruleForm,"DeviceName",t.target.value)}}})]),e._v(" "),a("button",{staticClass:"button",staticStyle:{"margin-top":"-10px"},attrs:{type:"button"},on:{click:function(t){return e.onSubmitDeviceName("ruleForm")}}},[e._v("保 存")])],1)],1)],1),e._v(" "),e._m(1),e._v(" "),a("el-card",{staticStyle:{background:"black",border:"0"}},[a("el-form",{ref:"sceneForm",staticStyle:{"margin-top":"-5px"},attrs:{inline:!0,model:e.sceneForm,"label-width":"80px","label-position":"right"}},[a("el-col",{attrs:{span:22}},[a("el-form-item",{staticClass:"inputItem",attrs:{label:"类型",prop:"scene",rules:[{required:!0,message:"请选择使用场景类型",trigger:"blur"}]}},[a("el-select",{staticClass:"inputSys",staticStyle:{width:"480px"},model:{value:e.sceneForm.scene,callback:function(t){e.$set(e.sceneForm,"scene",t)},expression:"sceneForm.scene"}},[a("el-option",{attrs:{value:"0",label:"桌面平放"}}),e._v(" "),a("el-option",{attrs:{value:"1",label:"吸顶吊装"}})],1)],1),e._v(" "),a("button",{staticClass:"button",staticStyle:{"margin-top":"-10px","margin-left":"24px"},attrs:{type:"button"},on:{click:function(t){return e.onSubmitScene("sceneForm")}}},[e._v("保 存")])],1)],1)],1)],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"systemTop"},[t("span",{staticClass:"systemTitle"},[this._v("基本信息")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"systemTop",staticStyle:{"margin-top":"-20px"}},[t("span",{staticClass:"systemTitle"},[this._v("使用场景")])])}]};var ve=a("VU/8")(he,fe,!1,function(e){a("3mhv")},null,null).exports,be=function(e,t,a){/^(?=^.{3,255}$)(ssl|tcp)(:\/\/)?(www\.)?[a-zA-Z0-9][-a-zA-Z0-9]{0,62}(\.[a-zA-Z0-9][-a-zA-Z0-9]{0,62})+(:\d+)*(\/\w+\.\w+)*([\?&]\w+=\w*)*$/.test(t)?a():(console.log("Event Server格式错误"),a(new Error("请输入正确格式!")))},ye=function(e,t,a){/^(?=^.{3,255}$)(http)(:\/\/)?(www\.)?[a-zA-Z0-9][-a-zA-Z0-9]{0,62}(\.[a-zA-Z0-9][-a-zA-Z0-9]{0,62})+(:\d+)*(\/\w+\.\w+)*([\?&]\w+=\w*)*$/.test(t)?a():(console.log("Event Server格式错误"),a(new Error("请输入正确格式!")))},xe=function(e,t,a){/^(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])$/.test(t)?a():(console.log("ChannelIP格式错误"),a(new Error("请输入正确格式!")))},we=function(e,t,a){var s,i;"DetThrd"===e.field||"PhoneThrd"===e.field||"EyeCloseThrd"===e.field||"DetectThrd"===e.field||"QualityThrd"===e.field||"SmokeThrd"===e.field||"PeopleThrd"===e.field?(i=0,s=1):"DetectNoneingIntervalTime"===e.field||"HeaddowningIntervalTime"===e.field||"PhoneingIntervalTime"===e.field||"SmokeingIntervalTime"===e.field||"SleepingIntervalTime"===e.field||"HeartBeatUploadTime"===e.field?(i=1,s=65535):"HeaddownAngularThrd"===e.field?(i=-90,s=90):"RecognizeThrd"===e.field&&(i=0,s=100),t>=i&&t<=s?a():a(new Error("请输入正确格式!"))},_e=a("7idX").json,Fe={data:function(){return{table:_e,tableData:[],pageSize:20,currentPage:1,totalPages:0,colDialogVisible:!1,nirDialogVisible:!1,colForm:{PeopleThrd:1},nirForm:{},dsmData:"",regData:"",colRules:{DetectThrd:[{required:!0,message:"请输入人脸检测阈值",trigger:"blur"},{validator:we,message:"请输入正确的格式!",trigger:"blur"}],QualityThrd:[{required:!0,message:"请输入人脸质量阈值",trigger:"blur"},{validator:we,message:"请输入正确的格式!",trigger:"blur"}],RecognizeThrd:[{required:!0,message:"请输入人脸识别阈值",trigger:"blur"},{validator:we,message:"请输入正确的格式!",trigger:"blur"}],PeopleThrd:[{required:!0,message:"请输入人体检测阈值",trigger:"blur"},{type:"number",min:1e-4,max:.9999,message:"0 ~ 1 之间 小数点后三位",trigger:"blur"}]},nirRules:{DetThrd:[{required:!0,message:"请输入人脸检测阈值",trigger:"blur"},{validator:we,message:"请输入正确的格式!",trigger:"blur"}],DetectNoneingIntervalTime:[{required:!0,message:"请输入未检测到时间阈值",trigger:"blur"},{validator:we,message:"请输入正确的格式!",trigger:"blur"}],HeaddownAngularThrd:[{required:!0,message:"请输入低头角度阈值",trigger:"blur"},{validator:we,message:"请输入正确的格式!",trigger:"blur"}],HeaddowningIntervalTime:[{required:!0,message:"请输入低头时间阈值",trigger:"blur"},{validator:we,message:"请输入正确的格式!",trigger:"blur"}],PhoneThrd:[{required:!0,message:"请输入打电话阈值",trigger:"blur"},{validator:we,message:"请输入正确的格式!",trigger:"blur"}],PhoneingIntervalTime:[{required:!0,message:"请输入打电话时间阈值",trigger:"blur"},{validator:we,message:"请输入正确的格式!",trigger:"blur"}],SmokeThrd:[{required:!0,message:"请输入吸烟阈值",trigger:"blur"},{validator:we,message:"请输入正确的格式!",trigger:"blur"}],SmokeingIntervalTime:[{required:!0,message:"请输入吸烟时间阈值",trigger:"blur"},{validator:we,message:"请输入正确的格式!",trigger:"blur"}],EyeCloseThrd:[{required:!0,message:"请输入闭眼阈值",trigger:"blur"},{validator:we,message:"请输入正确的格式!",trigger:"blur"}],SleepingIntervalTime:[{required:!0,message:"请输入睡觉时间阈值",trigger:"blur"},{validator:we,message:"请输入正确的格式!",trigger:"blur"}],HeartBeatUploadTime:[{required:!0,message:"请输入心跳时间间隔",trigger:"blur"},{validator:we,message:"请输入正确的格式!",trigger:"blur"}]}}},inject:["reload"],created:function(){var e=this;setTimeout(function(){e.tableLoading=!1},500),this.getTableData(this.currentPage)},methods:{getTableData:function(e){var t=this;h.get("/api/videosource?"+(new Date).getTime()).then(function(e){var a=e.data.data;t.tableData=a,t.totalPages=e.data.data.length}).catch(function(e){-1===e.code?(t.$router.push({name:"Login"}),t.$message({showClose:!0,message:"登录超时,请重新登录!",type:"error"})):t.$message({showClose:!0,message:e,type:"error"})})},tableEdit:function(e,t){var a=this,s=t[e];2===t[e].Funcmode?(this.colDialogVisible=!0,h.get("/api/reg/"+t[e].Chid+"?"+(new Date).getTime()).then(function(e){a.colForm=e.data.data,a.colForm.Funcmode=s.Funcmode,a.colForm.Url=s.Url}).catch(function(e){return console.log(e)})):(this.nirDialogVisible=!0,h.get("/api/dsm/"+t[e].Chid+"?"+(new Date).getTime()).then(function(e){a.nirForm=e.data.data,a.nirForm.Funcmode=s.Funcmode,a.nirForm.Url=s.Url}).catch(function(e){return console.log(e)}))},colEditSubmit:function(e){var t=this;this.$refs[e].validate(function(e){e&&h.put("/api/reg",t.colForm).then(function(e){1===e.data.result?(t.$Msg("修改视频源成功！","success"),t.colDialogVisible=!1):t.$Msg("设备视频源失败！","error")})})},nirEditSubmit:function(e){var t=this;this.$refs[e].validate(function(e){e&&h.put("/api/dsm",t.nirForm).then(function(e){1===e.data.result?(t.$Msg("修改视频源成功！","success"),t.nirDialogVisible=!1):t.$Msg("设备视频源失败！","error")})})}},computed:{getTodos:function(){return{data:this.tableData,getTableData:this.getTableData,getTotalPages:this.totalPages,tableParams:this.table.tableParams,tableEdit:this.tableEdit}}},components:{CommonTable:Y}},Se={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"systemBox",staticStyle:{"border-top":"1px solid #373737"}},[a("common-table",{attrs:{todos:e.getTodos}}),e._v(" "),a("el-dialog",{attrs:{title:"编辑",width:"500px",visible:e.colDialogVisible},on:{"update:visible":function(t){e.colDialogVisible=t}}},[a("el-form",{ref:"colForm",attrs:{inline:!0,model:e.colForm,rules:e.colRules,"label-width":"140px","label-position":"right"}},[a("el-form-item",{staticClass:"inputLab",staticStyle:{"margin-left":"20px","margin-top":"10px"},attrs:{label:"通道ID",prop:"Chid",rules:[{required:!0,message:"请输入通道ID",trigger:"blur"}]}},[a("el-input",{staticClass:"inputVal inputDisabled",attrs:{disabled:""},model:{value:e.colForm.Chid,callback:function(t){e.$set(e.colForm,"Chid",t)},expression:"colForm.Chid"}})],1),e._v(" "),a("el-form-item",{staticClass:"inputLab",attrs:{label:"功能",prop:"Funcmode",rules:[{required:!0,message:"请输入功能",trigger:"blur"}]}},[a("el-input",{staticClass:"inputVal inputDisabled",attrs:{disabled:""},model:{value:e.colForm.Funcmode,callback:function(t){e.$set(e.colForm,"Funcmode",t)},expression:"colForm.Funcmode"}})],1),e._v(" "),a("el-form-item",{staticClass:"inputLab",attrs:{label:"URL",prop:"Url",rules:[{required:!0,message:"请输入功能",trigger:"blur"}]}},[a("el-input",{staticClass:"inputVal inputDisabled",attrs:{disabled:""},model:{value:e.colForm.Url,callback:function(t){e.$set(e.colForm,"Url",t)},expression:"colForm.Url"}})],1),e._v(" "),a("el-form-item",{staticClass:"inputLab",attrs:{label:"人脸检测阈值(0,1)",prop:"DetectThrd"}},[a("el-input",{staticClass:"inputVal",attrs:{type:"number"},model:{value:e.colForm.DetectThrd,callback:function(t){e.$set(e.colForm,"DetectThrd",e._n(t))},expression:"colForm.DetectThrd"}})],1),e._v(" "),a("el-form-item",{staticClass:"inputLab",attrs:{label:"人脸质量阈值(0,1)",prop:"QualityThrd"}},[a("el-input",{staticClass:"inputVal",attrs:{type:"number"},model:{value:e.colForm.QualityThrd,callback:function(t){e.$set(e.colForm,"QualityThrd",e._n(t))},expression:"colForm.QualityThrd"}})],1),e._v(" "),a("el-form-item",{staticClass:"inputLab",attrs:{label:"人脸识别阈值(0,100)",prop:"RecognizeThrd"}},[a("el-input",{staticClass:"inputVal",attrs:{type:"number"},model:{value:e.colForm.RecognizeThrd,callback:function(t){e.$set(e.colForm,"RecognizeThrd",e._n(t))},expression:"colForm.RecognizeThrd"}})],1),e._v(" "),a("el-form-item",{staticClass:"inputLab",attrs:{label:"人体检测阈值(0,1)",prop:"PeopleThrd"}},[a("el-input",{staticClass:"inputVal",attrs:{type:"number"},model:{value:e.colForm.PeopleThrd,callback:function(t){e.$set(e.colForm,"PeopleThrd",e._n(t))},expression:"colForm.PeopleThrd"}})],1)],1),e._v(" "),a("div",{staticStyle:{"border-top":"1px solid #373737"}},[a("button",{staticClass:"button",staticStyle:{margin:"8px 0 8px 170px"},on:{click:function(t){return e.colEditSubmit("colForm")}}},[e._v("保 存")]),e._v(" "),a("button",{staticClass:"button",on:{click:function(t){e.colDialogVisible=!1}}},[e._v("取 消")])])],1),e._v(" "),a("el-dialog",{attrs:{title:"编辑",width:"570px",visible:e.nirDialogVisible},on:{"update:visible":function(t){e.nirDialogVisible=t}}},[a("el-form",{ref:"nirForm",attrs:{inline:!0,model:e.nirForm,rules:e.nirRules,"label-width":"180px","label-position":"right"}},[a("el-form-item",{staticClass:"inputLab",staticStyle:{"margin-left":"20px","margin-top":"10px"},attrs:{label:"通道ID",prop:"Chid",rules:[{required:!0,message:"请输入通道ID",trigger:"blur"}]}},[a("el-input",{staticClass:"inputVal inputDisabled",attrs:{disabled:""},model:{value:e.nirForm.Chid,callback:function(t){e.$set(e.nirForm,"Chid",t)},expression:"nirForm.Chid"}})],1),e._v(" "),a("el-form-item",{staticClass:"inputLab",attrs:{label:"功能",prop:"Funcmode",rules:[{required:!0,message:"请输入功能",trigger:"blur"}]}},[a("el-input",{staticClass:"inputVal inputDisabled",attrs:{disabled:""},model:{value:e.nirForm.Funcmode,callback:function(t){e.$set(e.nirForm,"Funcmode",t)},expression:"nirForm.Funcmode"}})],1),e._v(" "),a("el-form-item",{staticClass:"inputLab",attrs:{label:"URL",prop:"Url",rules:[{required:!0,message:"请输入功能",trigger:"blur"}]}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.nirForm.Url,expression:"nirForm.Url"}],staticClass:"inputVal inputDisabled",attrs:{disabled:""},domProps:{value:e.nirForm.Url},on:{input:function(t){t.target.composing||e.$set(e.nirForm,"Url",t.target.value)}}})]),e._v(" "),a("el-form-item",{staticClass:"inputLab",attrs:{label:"人脸检测阈值(0,1)",prop:"DetThrd"}},[a("el-input",{staticClass:"inputVal",attrs:{type:"number",step:.1},model:{value:e.nirForm.DetThrd,callback:function(t){e.$set(e.nirForm,"DetThrd",e._n(t))},expression:"nirForm.DetThrd"}})],1),e._v(" "),a("el-form-item",{staticClass:"inputLab",attrs:{label:"未检测到时间阈值(1,65535)",prop:"DetectNoneingIntervalTime"}},[a("el-input",{staticClass:"inputVal",attrs:{type:"number"},model:{value:e.nirForm.DetectNoneingIntervalTime,callback:function(t){e.$set(e.nirForm,"DetectNoneingIntervalTime",e._n(t))},expression:"nirForm.DetectNoneingIntervalTime"}})],1),e._v(" "),a("el-form-item",{staticClass:"inputLab",attrs:{label:"低头角度阈值(-90,90)",prop:"HeaddownAngularThrd"}},[a("el-input",{staticClass:"inputVal",attrs:{type:"number"},model:{value:e.nirForm.HeaddownAngularThrd,callback:function(t){e.$set(e.nirForm,"HeaddownAngularThrd",e._n(t))},expression:"nirForm.HeaddownAngularThrd"}})],1),e._v(" "),a("el-form-item",{staticClass:"inputLab",attrs:{label:"低头时间阈值(1,65535)",prop:"HeaddowningIntervalTime"}},[a("el-input",{staticClass:"inputVal",attrs:{type:"number"},model:{value:e.nirForm.HeaddowningIntervalTime,callback:function(t){e.$set(e.nirForm,"HeaddowningIntervalTime",e._n(t))},expression:"nirForm.HeaddowningIntervalTime"}})],1),e._v(" "),a("el-form-item",{staticClass:"inputLab",attrs:{label:"打电话阈值(0,1)",prop:"PhoneThrd"}},[a("el-input",{staticClass:"inputVal",attrs:{type:"number",step:.1},model:{value:e.nirForm.PhoneThrd,callback:function(t){e.$set(e.nirForm,"PhoneThrd",e._n(t))},expression:"nirForm.PhoneThrd"}})],1),e._v(" "),a("el-form-item",{staticClass:"inputLab",attrs:{label:"打电话时间阈值(1,65535)",prop:"PhoneingIntervalTime"}},[a("el-input",{staticClass:"inputVal",attrs:{type:"number"},model:{value:e.nirForm.PhoneingIntervalTime,callback:function(t){e.$set(e.nirForm,"PhoneingIntervalTime",e._n(t))},expression:"nirForm.PhoneingIntervalTime"}})],1),e._v(" "),a("el-form-item",{staticClass:"inputLab",attrs:{label:"吸烟阈值(0,1)",prop:"SmokeThrd"}},[a("el-input",{staticClass:"inputVal",attrs:{type:"number",step:.1},model:{value:e.nirForm.SmokeThrd,callback:function(t){e.$set(e.nirForm,"SmokeThrd",e._n(t))},expression:"nirForm.SmokeThrd"}})],1),e._v(" "),a("el-form-item",{staticClass:"inputLab",attrs:{label:"吸烟时间阈值(1,65535)",prop:"SmokeingIntervalTime"}},[a("el-input",{staticClass:"inputVal",attrs:{type:"number"},model:{value:e.nirForm.SmokeingIntervalTime,callback:function(t){e.$set(e.nirForm,"SmokeingIntervalTime",e._n(t))},expression:"nirForm.SmokeingIntervalTime"}})],1),e._v(" "),a("el-form-item",{staticClass:"inputLab",attrs:{label:"闭眼阈值(0,1)",prop:"EyeCloseThrd"}},[a("el-input",{staticClass:"inputVal",attrs:{type:"number",step:.1},model:{value:e.nirForm.EyeCloseThrd,callback:function(t){e.$set(e.nirForm,"EyeCloseThrd",e._n(t))},expression:"nirForm.EyeCloseThrd"}})],1),e._v(" "),a("el-form-item",{staticClass:"inputLab",attrs:{label:"睡觉时间阈值(1,65535)",prop:"SleepingIntervalTime"}},[a("el-input",{staticClass:"inputVal",attrs:{type:"number"},model:{value:e.nirForm.SleepingIntervalTime,callback:function(t){e.$set(e.nirForm,"SleepingIntervalTime",e._n(t))},expression:"nirForm.SleepingIntervalTime"}})],1),e._v(" "),a("el-form-item",{staticClass:"inputLab",attrs:{label:"心跳时间间隔(1,65535)",prop:"HeartBeatUploadTime"}},[a("el-input",{staticClass:"inputVal",attrs:{type:"number",min:"20"},model:{value:e.nirForm.HeartBeatUploadTime,callback:function(t){e.$set(e.nirForm,"HeartBeatUploadTime",e._n(t))},expression:"nirForm.HeartBeatUploadTime"}})],1)],1),e._v(" "),a("div",{staticStyle:{"border-top":"1px solid #373737"}},[a("button",{staticClass:"button",staticStyle:{margin:"8px 0 8px 200px"},on:{click:function(t){return e.nirEditSubmit("nirForm")}}},[e._v("保 存")]),e._v(" "),a("button",{staticClass:"button",on:{click:function(t){e.nirDialogVisible=!1}}},[e._v("取 消")])])],1)],1)},staticRenderFns:[]},Te=a("VU/8")(Fe,Se,!1,null,null,null).exports,Ce={props:{todos:{type:Object,required:!0}},computed:{getTableMaxHeight:function(){return this.$store.getters.getContentHeight-130+"px"},getTodos:function(){return this.todos}}},ke={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{ref:"commonForm",staticClass:"demo-form-inline wrapper",style:{height:e.getTableMaxHeight,overflow:"auto"},attrs:{inline:!0,model:e.todos,"label-width":e.getTodos.labelWidth,"label-position":e.getTodos.labelPosition,"status-icon":e.getTodos.statusIcon,size:e.getTodos.size}},e._l(e.getTodos.params,function(t,s,i){return a("el-col",{key:i,attrs:{span:22}},[a("el-form-item",{attrs:{label:t.label,prop:"params."+s+".value",rules:t.rules}},[Object.is(t.type,"input")&&Object.is(t.valueType,"string")?a("el-input",{staticStyle:{width:"250px"},attrs:{disabled:t.disabled,placeholder:t.placeholder},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"item.value"}}):e._e()],1)],1)}),1)},staticRenderFns:[]};var Ie=a("VU/8")(Ce,ke,!1,function(e){a("cjWu")},null,null).exports,De={data:function(){return{radio:1,networkForm:{Enable:!1,IP:"",Netmask:"",Gateway:"",DNS:""},iotForm:{Server:"",User:"",Passwd:""},eventForm:{Server:"",User:"",Passwd:""},networkRules:{IP:[{required:!0,message:"请输入IP",trigger:"blur"},{validator:xe,message:"请输入正确的IP格式!",trigger:"blur"}],Netmask:[{required:!0,message:"请输入Netmask",trigger:"blur"},{validator:xe,message:"请输入正确的IP格式!",trigger:"blur"}],Gateway:[{required:!0,message:"请输入Gateway",trigger:"blur"},{validator:xe,message:"请输入正确的IP格式!",trigger:"blur"}],DNS:[{required:!0,message:"请输入DNS",trigger:"blur"},{validator:xe,message:"请输入正确的IP格式!",trigger:"blur"}]},iotRules:{Server:[{required:!0,message:"请输入IP",trigger:"blur"},{validator:be,message:"请输入正确的IP格式!",trigger:"blur"}]},eventRules:{Server:[{required:!0,message:"请输入IP",trigger:"blur"},{validator:ye,message:"请输入正确的IP格式!",trigger:"blur"}]}}},created:function(){this.getNetwork(),this.getIot(),this.getEvent()},methods:{changeDHCP:function(e){var t=this,a=1==e?"关闭":"开启";this.$confirm("是否确认"+a+"DHCP？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){}).catch(function(){t.radio=1==e?2:1}),console.log(e)},getNetwork:function(){var e=this;h.get("/api/network?"+(new Date).getTime()).then(function(t){var a=t.data.data;!0===a.Enable?e.radio=1:e.radio=2,a.DNS=a.DNS.replace("  ",""),e.networkForm=a}).catch(function(e){return console.log(e)})},getIot:function(){var e=this;h.get("/api/iotserver?"+(new Date).getTime()).then(function(t){1===t.data.result?e.iotForm=t.data.data:e.$Msg("获取IOT Server失败","error")}).catch(function(e){return console.log(e)})},getEvent:function(){var e=this;h.get("/api/eventserver?"+(new Date).getTime()).then(function(t){1===t.data.result?e.eventForm=t.data.data:e.$Msg("获取Event Server失败","error")}).catch(function(e){return console.log(e)})},onSubmitNetwork:function(e){var t=this;this.radio,this.$refs[e].validate(function(e){e&&(1===t.radio?t.networkForm.Enable=!0:t.networkForm.Enable=!1,h.put("/api/network",t.networkForm).then(function(e){1===e.data.result?t.$Msg("网络配置成功！","success"):t.$Msg("网络配置失败！","error")}).catch(function(e){return console.log(e)}))})},onSubmit:function(e){var t=this;this.$refs[e].validate(function(a){a&&("iotForm"===e?h.put("/api/iotserver",t.iotForm).then(function(e){1===e.data.result?t.$Msg("保存成功","success"):t.$Msg("提交失败","error")}).catch(function(e){return console.log(e)}):"eventForm"===e&&h.put("/api/eventserver",t.eventForm).then(function(e){1===e.data.result?t.$Msg("保存成功","success"):t.$Msg("提交失败","error")}).catch(function(e){return console.log(e)}))})}},computed:{getTableMaxHeight:function(){return this.$store.getters.getContentHeight-125+"px"}}},Pe={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"systemBox"},[e._m(0),e._v(" "),a("el-card",{staticStyle:{background:"black",border:"0","margin-bottom":"10px"}},[a("el-form",{ref:"networkForm",attrs:{inline:!0,model:e.networkForm,"label-width":"80px","label-position":"right",rules:e.networkRules}},[a("el-col",{attrs:{span:22}},[a("el-form-item",{staticClass:"inputItem",attrs:{label:"DHCP"}},[a("el-radio-group",{staticClass:"inputSys",on:{change:e.changeDHCP},model:{value:e.radio,callback:function(t){e.radio=t},expression:"radio"}},[a("el-radio",{staticStyle:{width:"120px"},attrs:{label:2}},[e._v("启用")]),e._v(" "),a("el-radio",{attrs:{label:1}},[e._v("不启用")])],1)],1)],1),e._v(" "),a("el-col",{attrs:{span:22}},[a("el-form-item",{staticClass:"inputItem",attrs:{label:"IP",prop:"IP"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.networkForm.IP,expression:"networkForm.IP"}],staticClass:"inputSys",class:2===this.radio?"inputDisabled":"",attrs:{disabled:2===this.radio},domProps:{value:e.networkForm.IP},on:{input:function(t){t.target.composing||e.$set(e.networkForm,"IP",t.target.value)}}})])],1),e._v(" "),a("el-col",{attrs:{span:22}},[a("el-form-item",{staticClass:"inputItem",attrs:{label:"子网掩码",prop:"Netmask"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.networkForm.Netmask,expression:"networkForm.Netmask"}],staticClass:"inputSys",class:2===this.radio?"inputDisabled":"",attrs:{disabled:2===this.radio},domProps:{value:e.networkForm.Netmask},on:{input:function(t){t.target.composing||e.$set(e.networkForm,"Netmask",t.target.value)}}})])],1),e._v(" "),a("el-col",{attrs:{span:22}},[a("el-form-item",{staticClass:"inputItem",attrs:{label:"网关",prop:"Gateway"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.networkForm.Gateway,expression:"networkForm.Gateway"}],staticClass:"inputSys ",class:2===this.radio?"inputDisabled":"",attrs:{disabled:2===this.radio},domProps:{value:e.networkForm.Gateway},on:{input:function(t){t.target.composing||e.$set(e.networkForm,"Gateway",t.target.value)}}})])],1),e._v(" "),a("el-col",{attrs:{span:22}},[a("el-form-item",{staticClass:"inputItem",attrs:{label:"DNS",prop:"DNS"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.networkForm.DNS,expression:"networkForm.DNS"}],staticClass:"inputSys ",domProps:{value:e.networkForm.DNS},on:{input:function(t){t.target.composing||e.$set(e.networkForm,"DNS",t.target.value)}}})]),e._v(" "),a("button",{staticClass:"button",staticStyle:{"margin-top":"-10px"},attrs:{type:"button"},on:{click:function(t){return e.onSubmitNetwork("networkForm")}}},[e._v("保 存")])],1)],1)],1),e._v(" "),e._m(1),e._v(" "),a("el-card",{staticStyle:{background:"black",border:"0","margin-bottom":"10px"}},[a("el-form",{ref:"iotForm",attrs:{inline:!0,model:e.iotForm,"label-width":"80px","label-position":"right",rules:e.iotRules}},[a("el-col",{attrs:{span:22}},[a("el-form-item",{staticClass:"inputItem",attrs:{label:"IP地址",prop:"Server"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.iotForm.Server,expression:"iotForm.Server"}],staticClass:"inputSys",attrs:{placeholder:"请输入IP地址"},domProps:{value:e.iotForm.Server},on:{input:function(t){t.target.composing||e.$set(e.iotForm,"Server",t.target.value)}}})])],1),e._v(" "),a("el-col",{attrs:{span:22}},[a("el-form-item",{staticClass:"inputItem",attrs:{label:"用户名",prop:"User",rules:[{required:!0,message:"请输入用户名",trigger:"blur"}]}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.iotForm.User,expression:"iotForm.User"}],staticClass:"inputSys",attrs:{placeholder:"请输入用户名"},domProps:{value:e.iotForm.User},on:{input:function(t){t.target.composing||e.$set(e.iotForm,"User",t.target.value)}}})])],1),e._v(" "),a("el-col",{attrs:{span:22}},[a("el-form-item",{staticClass:"inputItem",attrs:{label:"密码",prop:"Passwd",rules:[{required:!0,message:"请输入密码",trigger:"blur"}]}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.iotForm.Passwd,expression:"iotForm.Passwd"}],staticClass:"inputSys",attrs:{placeholder:"请输入密码"},domProps:{value:e.iotForm.Passwd},on:{input:function(t){t.target.composing||e.$set(e.iotForm,"Passwd",t.target.value)}}})]),e._v(" "),a("button",{staticClass:"button",staticStyle:{"margin-top":"-10px"},attrs:{type:"button"},on:{click:function(t){return e.onSubmit("iotForm")}}},[e._v("保 存")])],1)],1)],1),e._v(" "),e._m(2),e._v(" "),a("el-card",{staticStyle:{background:"black",border:"0","margin-bottom":"10px"}},[a("el-form",{ref:"eventForm",attrs:{inline:!0,model:e.eventForm,"label-width":"80px","label-position":"right",rules:e.eventRules}},[a("el-col",{attrs:{span:22}},[a("el-form-item",{staticClass:"inputItem",attrs:{label:"IP地址",prop:"Server"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.eventForm.Server,expression:"eventForm.Server"}],staticClass:"inputSys",attrs:{placeholder:"请输入IP地址"},domProps:{value:e.eventForm.Server},on:{input:function(t){t.target.composing||e.$set(e.eventForm,"Server",t.target.value)}}})])],1),e._v(" "),a("el-col",{attrs:{span:22}},[a("el-form-item",{staticClass:"inputItem",attrs:{label:"用户名",prop:"User",rules:[{required:!0,message:"请输入用户名",trigger:"blur"}]}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.eventForm.User,expression:"eventForm.User"}],staticClass:"inputSys",attrs:{placeholder:"请输入用户名"},domProps:{value:e.eventForm.User},on:{input:function(t){t.target.composing||e.$set(e.eventForm,"User",t.target.value)}}})])],1),e._v(" "),a("el-col",{attrs:{span:22}},[a("el-form-item",{staticClass:"inputItem",attrs:{label:"密码",prop:"Passwd",rules:[{required:!0,message:"请输入密码",trigger:"blur"}]}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.eventForm.Passwd,expression:"eventForm.Passwd"}],staticClass:"inputSys",attrs:{placeholder:"请输入密码"},domProps:{value:e.eventForm.Passwd},on:{input:function(t){t.target.composing||e.$set(e.eventForm,"Passwd",t.target.value)}}})]),e._v(" "),a("button",{staticClass:"button",staticStyle:{"margin-top":"-10px"},attrs:{type:"button"},on:{click:function(t){return e.onSubmit("eventForm")}}},[e._v("保 存")])],1)],1)],1)],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"systemTop"},[t("span",{staticClass:"systemTitle"},[this._v("网络配置")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"systemTop",staticStyle:{"margin-top":"-10px"}},[t("span",{staticClass:"systemTitle"},[this._v("IOT Server配置")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"systemTop",staticStyle:{"margin-top":"-10px"}},[t("span",{staticClass:"systemTitle"},[this._v("Event Server配置")])])}]};var $e=a("VU/8")(De,Pe,!1,function(e){a("0t/5")},null,null).exports,je={data:function(){return{verForm:{},systemTime:"",NTPStatus:"ntp",ntpAddress:"",timeForm:{},zoneList:[{value:"Asia/Shanghai",label:"Asia/Shanghai"},{value:"Asia/Taipei",label:"Asia/Taipei"},{value:"Asia/Hong_Kong",label:"Asia/Hong_Kong"},{value:"Asia/Chongqing",label:"Asia/Chongqing"}],uploadFile:!1,uploadRate:0,filename:"",uploadStyle:{width:"0%"},timeModel:"",zoneValue:"",DateTime:"",cronRestart:{enable:!1,rebootTime:""}}},created:function(){this.getVer(),this.getSystemTime(),this.getNtpAddress(),this.getScheduleReboot()},methods:{getVer:function(){var e=this;h.get("/api/systeminfo?"+(new Date).getTime()).then(function(t){e.verForm=t.data.data}).catch(function(t){-1===t.code?(e.$router.push({name:"Login"}),e.$message({showClose:!0,message:"登录超时,请重新登录!",type:"error"})):e.$message({showClose:!0,message:t,type:"error"})})},getSystemTime:function(){var e=this;h.get("/api/datesource/date?"+(new Date).getTime()).then(function(t){e.systemTime=t.data.data.timestamp,setInterval(function(){e.systemTime=e.timeFormat(e.systemTime)},1e3)})},timeFormat:function(e){var t=Number(e.substr(0,4)),a=Number(e.substr(5,2)),s=Number(e.substr(8,2)),i=Number(e.substr(11,2)),r=Number(e.substr(14,2)),n=Number(e.substr(17,2));return n<59?n+=1:r<59?(r+=1,n=0):i<23?(i+=1,r=0,n=0):s<30?(s+=1,i=0,r=0,n=0):a<11?(a+=1,s=0,i=0,r=0,n=0):(_year+=1,a=0,s=0,i=0,r=0,n=0),n<10&&(n="0"+n),r<10&&(r="0"+r),i<10&&(i="0"+i),s<10&&(s="0"+s),a<10&&(a="0"+a),t+"-"+a+"-"+s+" "+i+":"+r+":"+n},getNtpAddress:function(){var e=this;h.get("/api/datesource?"+(new Date).getTime()).then(function(t){e.ntpAddress=t.data.data.Server})},subNtp:function(){var e=this;"ntp"===this.NTPStatus?h.put("/api/datesource",{server:this.ntpAddress}).then(function(t){1===t.data.result?e.$Msg("NTP同步设置成功","success"):e.$Msg("NTP同步设置失败","error")}):(this.timeForm.timestamp=V()(this.timeForm.timestamp).format("YYYY-MM-DD HH:mm:ss"),h.put("/api/datesource/date",this.timeForm).then(function(t){1===t.data.result?e.$Msg("本机同步设置成功","success"):e.$Msg("本机同步设置失败","error")}))},upload:function(e){var t=this,a=this;this.uploadRate=0,this.uploadStyle.width="0%";for(var s=new FormData,i=0;i<e.target.files.length;i++){var r=e.target.files[i];s.append("file",r),this.filename=r.name,console.log(r)}var n={headers:{"Content-Type":"multipart/form-data",Authorization:localStorage.getItem("token")},onUploadProgress:function(e){if(console.log("进度："),console.log(e),e.lengthComputable){var t=this.uploadRate=e.loaded/e.total;t<1&&(a.uploadRate=t,a.uploadStyle.width=(100*t).toFixed(2)+"%")}}};h.post("/api/system/uploadPackage",s,n).then(function(e){1===e.data.result?(t.uploadRate=1,t.uploadStyle.width="100.00%",t.$Msg("上传升级文件成功!","success")):t.$Msg("软件升级失败!","error")}).catch(function(e){t.$Msg("软件升级失败:"+e,"error")})},submitUpload:function(){this.$refs.upload.submit()},restart:function(){var e=this;this.$confirm("是否确认重启设备？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){h.post("/api/system/reboot",{}).then(function(t){1===t.data.result?e.$Msg("重启成功","success"):e.$Msg("重启失败","error")})}).catch(function(){})},reset:function(){var e=this;this.$confirm("是否确认恢复出厂设置？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){h.post("/api/system/reset",{}).then(function(t){1===t.data.result?e.$Msg("恢复出厂设置成功","success"):e.$Msg("恢复出厂设置失败","error")})}).catch(function(){})},getScheduleReboot:function(){var e=this;h.get("/api/system/scheduleRebootSetting",this.cronRestart).then(function(t){1===t.data.result&&(e.cronRestart=t.data.data)})},setScheduleReboot:function(){var e=this;this.cronRestart.rebootTime?h.post("/api/system/scheduleRebootSetting",this.cronRestart).then(function(t){1===t.data.result?e.$Msg("设置成功","success"):e.$Msg("设置失败","error")}):this.$Msg("时间不能为空","error")}},computed:{headers:function(){return{Authorization:localStorage.getItem("token")}},getTableMaxHeight:function(){return this.$store.getters.getContentHeight-125+"px"}}},Ne={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"systemBox"},[e._m(0),e._v(" "),a("div",{staticClass:"sysContent"},[a("span",{staticClass:"sysText"},[e._v("应用程序版本: "+e._s(e.verForm.AppVersion))]),e._v(" "),a("span",{staticClass:"sysText",staticStyle:{"margin-left":"40px"}},[e._v("操作系统版本: "+e._s(e.verForm.OSVersion))]),e._v(" "),a("span",{staticClass:"sysText",staticStyle:{"margin-left":"40px"}},[e._v("模型版本: "+e._s(e.verForm.ModelVersion))])]),e._v(" "),e._m(1),e._v(" "),a("div",{staticClass:"sysContent",staticStyle:{border:"none","margin-top":"1px"}},[a("span",{staticClass:"sysText"},[e._v("系统时间: "+e._s(this.systemTime))])]),e._v(" "),a("div",{staticClass:"sysContent"},[a("span",{staticClass:"sysText",staticStyle:{float:"left"}},[e._v("同步方式: ")]),e._v(" "),a("el-select",{staticClass:"inputPos",staticStyle:{"margin-left":"20px",float:"left"},model:{value:e.NTPStatus,callback:function(t){e.NTPStatus=t},expression:"NTPStatus"}},[a("el-option",{attrs:{label:"NTP同步",value:"ntp"}}),e._v(" "),a("el-option",{attrs:{label:"本机同步",value:"local"}})],1),e._v(" "),a("div",{staticStyle:{display:"inline-block","vertical-align":"top"}},["ntp"===this.NTPStatus?a("input",{directives:[{name:"model",rawName:"v-model",value:e.ntpAddress,expression:"ntpAddress"}],staticClass:"inputPos",attrs:{placeholder:"请输入ntp地址"},domProps:{value:e.ntpAddress},on:{input:function(t){t.target.composing||(e.ntpAddress=t.target.value)}}}):e._e()]),e._v(" "),"local"===this.NTPStatus?a("div",{staticStyle:{display:"inline-block","vertical-align":"top"}},[a("el-select",{staticClass:"inputPos",staticStyle:{"margin-left":"20px"},model:{value:e.timeForm.timezone,callback:function(t){e.$set(e.timeForm,"timezone",t)},expression:"timeForm.timezone"}},e._l(e.zoneList,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1):e._e(),e._v(" "),"local"===this.NTPStatus?a("div",{staticStyle:{display:"inline-block","vertical-align":"top"}},[a("el-date-picker",{staticStyle:{"margin-left":"20px"},attrs:{type:"datetime",placeholder:"选择日期时间",size:"small"},model:{value:e.timeForm.timestamp,callback:function(t){e.$set(e.timeForm,"timestamp",t)},expression:"timeForm.timestamp"}})],1):e._e(),e._v(" "),a("button",{staticClass:"button",staticStyle:{margin:"11px 0 8px 15px"},on:{click:e.subNtp}},[e._v("保 存")])],1),e._v(" "),e._m(2),e._v(" "),a("div",{staticClass:"sysContent",staticStyle:{border:"none","margin-top":"1px"}},[a("span",{staticClass:"sysText"},[e._v("上传升级文件")]),e._v(" "),a("span",{staticClass:"input-zone"},[e.filename?a("span",[e._v(e._s(e.filename))]):a("button",{staticClass:"button",staticStyle:{cursor:"pointer"},attrs:{type:"button"}},[e._v("浏览")]),e._v(" "),a("input",{attrs:{type:"file",name:"file",value:"",placeholder:"请选择文件",multiple:"multiple"},on:{change:e.upload}})]),e._v(" "),a("br")]),e._v(" "),a("div",{staticClass:"sysContent"},[a("span",{staticClass:"sysText",staticStyle:{float:"left"}},[e._v("升级进度")]),e._v(" "),a("div",{staticClass:"progress-wrapper",staticStyle:{float:"left",width:"400px",margin:"5px 0 0 20px"}},[a("div",{staticClass:"progress-progress",style:e.uploadStyle}),e._v(" "),a("div",{staticClass:"progress-rate"},[e._v(e._s((100*e.uploadRate).toFixed(2))+"%")])])]),e._v(" "),e._m(3),e._v(" "),a("p",[a("span",{staticClass:"sysText",staticStyle:{"margin-right":"10px"}},[e._v("是否开启")]),e._v(" "),a("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:e.cronRestart.enable,callback:function(t){e.$set(e.cronRestart,"enable",t)},expression:"cronRestart.enable"}})],1),e._v(" "),a("p",[a("span",{staticClass:"sysText",staticStyle:{"margin-right":"10px"}},[e._v("重启时间")]),e._v(" "),a("el-time-picker",{attrs:{"value-format":"HH:mm:ss",placeholder:"选择时间"},model:{value:e.cronRestart.rebootTime,callback:function(t){e.$set(e.cronRestart,"rebootTime",t)},expression:"cronRestart.rebootTime"}})],1),e._v(" "),a("p",[a("button",{staticClass:"button",attrs:{type:"button"},on:{click:e.setScheduleReboot}},[e._v("保存")])]),e._v(" "),e._m(4),e._v(" "),a("div",{staticClass:"sysContent"},[a("button",{staticClass:"button",staticStyle:{margin:"11px 0 8px 10px"},on:{click:e.restart}},[e._v("一键重启")]),e._v(" "),a("button",{staticClass:"button",staticStyle:{margin:"11px 0 8px 10px"},on:{click:e.reset}},[e._v("恢复出厂设置")])])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"systemTop"},[t("span",{staticClass:"systemTitle"},[this._v("版本信息")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"systemTop"},[t("span",{staticClass:"systemTitle"},[this._v("时间信息")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"systemTop"},[t("span",{staticClass:"systemTitle"},[this._v("系统升级")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"systemTop"},[t("span",{staticClass:"systemTitle"},[this._v("定时重启")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"systemTop"},[t("span",{staticClass:"systemTitle"},[this._v("远程维护")])])}]};var Ee=a("VU/8")(je,Ne,!1,function(e){a("cQ6e")},"data-v-0a901d65",null).exports,Le=(a("4ufq"),{data:function(){return{contentWidth:this.$store.getters.getContentWidth,formData:{LoginLogo:"",HomeLogo:"",Title:""},rules:{LoginLogo:[{required:!0,message:"请选择图片",trigger:"blur"}],HomeLogo:[{required:!0,message:"请选择图片",trigger:"blur"}],Title:[{required:!0,message:"请输入系统标题",trigger:"blur"}]}}},created:function(){this.getLogo()},methods:{getLogo:function(){var e=this;h.get("/api/webconfig?"+(new Date).getTime()).then(function(t){e.formData=t.data.data}).catch(function(t){-1===t.code?(e.$router.push({name:"Login"}),e.$message({showClose:!0,message:"登录超时,请重新登录!",type:"error"})):e.$message({showClose:!0,message:t,type:"error"})})},changeFileLogin:function(e,t){var a=this,s=new FileReader;s.readAsDataURL(e.raw),s.onload=function(e){var t=this.result,s=t.substring(t.indexOf(",")+1,t.length);a.formData.LoginLogo=s}},changeFileHome:function(e,t){var a=this,s=new FileReader;s.readAsDataURL(e.raw),s.onload=function(e){var t=this.result,s=t.substring(t.indexOf(",")+1,t.length);a.formData.HomeLogo=s}},deleteImgLogin:function(){var e=this;this.$confirm("确定删除登录logo图片吗",{confirmButtonText:"确定"}).then(function(){e.formData.LoginLogo=""})},deleteImgHome:function(){var e=this;this.$confirm("确定删除首页logo图片吗",{confirmButtonText:"确定"}).then(function(){console.log(e.formData.HomeLogo),e.formData.HomeLogo=""})},onSubmit:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;h.put("/api/webconfig",t.formData).then(function(e){1===e.data.result?t.$confirm("修改成功",{confirmButtonText:"确定"}).then(function(){return t.$router.push({name:"Login"})}):t.$alert("修改失败",{confirmButtonText:"确定"})}).catch(function(e){t.$alert("修改失败",{confirmButtonText:"确定"})})})},reset:function(){var e=this;this.$confirm("是否确认恢复默认设置？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e._reset()}).catch(function(){})},_reset:function(){var e=this;h.post("/api/webconfig",{}).then(function(t){1===t.data.result?e.$confirm("恢复默认设置成功",{confirmButtonText:"确定"}).then(function(){return e.$router.push({name:"Login"})}):e.$confirm("恢复默认设置失败",{confirmButtonText:"确定"})})}},mounted:function(){},watch:{contentWidth:{handler:function(e){this.$store.commit("changeContentWidth",e)}}}}),Re={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"systemBox"},[e._m(0),e._v(" "),a("div",{staticStyle:{margin:"20px 0 0 20px","font-size":"16px"}},[a("div",{style:{width:.6*e.contentWidth+"px"}},[a("el-form",{ref:"formData",staticClass:"demo-form-inline",attrs:{inline:!0,model:e.formData,rules:e.rules,"label-width":"100px","label-position":"left","status-icon":!0}},[a("el-col",{staticClass:"flexCenter",attrs:{span:22}},[a("span",{staticClass:"logoFont",staticStyle:{width:"100px"}},[e._v("登录logo:")]),e._v(" "),a("el-form-item",{attrs:{label:"",prop:"LoginLogo"}},[a("el-upload",{attrs:{action:"","list-type":"picture","show-file-list":!1,"auto-upload":!1,"on-change":e.changeFileLogin}},[e.formData.LoginLogo?a("div",{staticClass:"img-icon",on:{click:function(t){return t.stopPropagation(),e.deleteImgLogin.apply(null,arguments)}}},[a("img",{ref:"img",staticClass:"img",attrs:{src:"data:image/jpeg;base64,"+e.formData.LoginLogo}}),e._v(" "),a("i",{staticClass:"iconfont icon-close"},[e._v("")])]):a("button",{staticClass:"button",attrs:{type:"button"}},[e._v("请选择logo上传")])])],1),e._v(" "),a("span",{staticClass:"logoFont"},[e._v("*注: 请上传260 * 140像素的logo")])],1),e._v(" "),a("el-col",{staticClass:"flexCenter",attrs:{span:22}},[a("span",{staticClass:"logoFont",staticStyle:{width:"100px"}},[e._v("首页logo:")]),e._v(" "),a("el-form-item",{attrs:{label:"",prop:"HomeLogo"}},[a("el-upload",{attrs:{action:"","list-type":"picture","show-file-list":!1,"auto-upload":!1,"on-change":e.changeFileHome}},[e.formData.HomeLogo?a("div",{staticClass:"img-icon",on:{click:function(t){return t.stopPropagation(),e.deleteImgHome.apply(null,arguments)}}},[a("img",{ref:"img",staticClass:"img",attrs:{src:"data:image/jpeg;base64,"+e.formData.HomeLogo}}),e._v(" "),a("i",{staticClass:"iconfont icon-close"},[e._v("")])]):a("button",{staticClass:"button",attrs:{type:"button"}},[e._v("请选择logo上传")])])],1),e._v(" "),a("span",{staticClass:"logoFont"},[e._v("*注: 请上传260 * 140像素的logo")])],1),e._v(" "),a("el-col",{attrs:{span:22}},[a("el-form-item",[a("span",{staticClass:"logoFont",staticStyle:{width:"100px"}},[e._v("系统标题:")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.formData.Title,expression:"formData.Title"}],staticClass:"inputSys",staticStyle:{"margin-left":"44px"},attrs:{placeholder:"输入系统标题"},domProps:{value:e.formData.Title},on:{input:function(t){t.target.composing||e.$set(e.formData,"Title",t.target.value)}}})])],1),e._v(" "),a("el-col",{staticStyle:{margin:"20px 0 0 -10px"}},[a("el-form-item",[a("button",{staticClass:"button",attrs:{type:"button"},on:{click:function(t){return e.onSubmit("formData")}}},[e._v("应用")]),e._v(" "),a("button",{staticClass:"button",attrs:{type:"button"},on:{click:e.reset}},[e._v("恢复默认")])])],1)],1)],1)])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"systemTop"},[t("span",{staticClass:"systemTitle"},[this._v("高级用户配置")])])}]};var Ue,ze=a("VU/8")(Le,Re,!1,function(e){a("4Eaw")},"data-v-110f1ff0",null).exports,He=(Ue={data:function(){return{imgData:"",FrameId:"",roiParams:[],roiArray:[],channelID_1:"",channelID_2:"",loading:!1}},inject:["reload"],created:function(){var e=this;h.get("/api/triggerRealframe/1?"+(new Date).getTime()).then(function(t){var a=t.data.data.FrameId;setTimeout(function(){h.get("/api/downloadRealframe/"+a+"?"+(new Date).getTime()).then(function(t){t.data.data?e.imgData=t.data.data:e.$confirm("尚未获取到图片,请重新刷新一次!",{confirmButtonText:"确定"})})},800)}).catch(function(e){return console.log(e)}),this.getRoi(),this.getVideoSource()},mounted:function(){document.querySelector(".systemBox")&&document.querySelector(".systemBox").addEventListener("selectstart",function(){return!1})},methods:{getTrigger:function(){var e=this;h.get("/api/triggerRealframe/1?"+(new Date).getTime()).then(function(t){e.FrameId=t.data.data.FrameId}).catch(function(e){return console.log(e)})},getImg:function(){var e=this;h.get("/api/downloadRealframe/"+this.FrameId+"?"+(new Date).getTime()).then(function(t){e.imgData=t.data.data}).catch(function(t){-1===t.code?(e.$router.push({name:"Login"}),e.$message({showClose:!0,message:"登录超时,请重新登录!",type:"error"})):e.$message({showClose:!0,message:t,type:"error"})})},getRoi:function(){var e=this;h.get("/api/roi/1?"+(new Date).getTime()).then(function(t){e.roiParams=t.data.data,e.roiParams.forEach(function(t){e.roiArray.push({fillStyle:"green",strokeStyle:"red",type:0,width:t.Width/2,height:t.Height/2,x1:t.X/2,x2:(t.X+t.Width)/2,y1:t.Y/2,y2:(t.Y+t.Height)/2})})}).catch(function(e){return console.log(e)})},getVideoSource:function(){var e=this;h.get("/api/videosource?"+(new Date).getTime()).then(function(t){var a=t.data.data;e.channelID_1=Number(a[0].Chid),e.channelID_2=Number(a[1].Chid)}).catch(function(e){return console.log(e)})},refresh:function(){this.reload()},loadImg:function(){var e=this,t=document.getElementById("myCanvas"),a=t.getContext("2d"),s=void 0,i=void 0,r=void 0,n=void 0,o=void 0,l=void 0,c=void 0,u=0,m=1,d=e.roiArray;setTimeout(function(){d.forEach(function(e){a.beginPath(),a.strokeStyle=e.strokeStyle,a.fillStyle=e.fillStyle,a.globalAlpha=.5,a.strokeRect(e.x1,e.y1,e.width,e.height),a.fillRect(e.x1,e.y1,e.width,e.height),a.rect(e.x1,e.y1,e.width,e.height),a.stroke()})},800);var p=void 0;function g(e){t.style.cursor="w-resize",r&&0==u&&(u=3),r&&3==u&&(p||(p=e),p.x1=n,p.width=p.x2-p.x1)}function f(e){t.style.cursor="s-resize",r&&0==u&&(u=4),r&&4==u&&(p||(p=e),p.y1=o,p.height=p.y2-p.y1)}function v(e){t.style.cursor="w-resize",r&&0==u&&(u=5),r&&5==u&&(p||(p=e),p.x2=n,p.width=p.x2-p.x1)}function b(e){t.style.cursor="s-resize",r&&0==u&&(u=6),r&&6==u&&(p||(p=e),p.y2=o,p.height=p.y2-p.y1)}function y(e){t.style.cursor="se-resize",r&&0==u&&(u=7),r&&7==u&&(p||(p=e),p.x1=n,p.y1=o,p.height=p.y2-p.y1,p.width=p.x2-p.x1)}function x(e){t.style.cursor="se-resize",r&&0==u&&(u=8),r&&8==u&&(p||(p=e),p.x2=n,p.y2=o,p.height=p.y2-p.y1,p.width=p.x2-p.x1)}function w(e){t.style.cursor="ne-resize",r&&0==u&&(u=9),r&&9==u&&(p||(p=e),p.x1=n,p.y2=o,p.height=p.y2-p.y1,p.width=p.x2-p.x1)}function _(e){t.style.cursor="ne-resize",r&&0==u&&(u=10),r&&10==u&&(p||(p=e),p.x2=n,p.y1=o,p.height=p.y2-p.y1,p.width=p.x2-p.x1)}function F(e,t){d.length>=4&&d.shift();var s=1;d.forEach(function(i){a.beginPath(),a.strokeStyle=i.strokeStyle,a.fillStyle=i.fillStyle,a.globalAlpha=.5,a.strokeRect(i.x1,i.y1,i.width,i.height),a.fillRect(i.x1,i.y1,i.width,i.height),a.rect(i.x1,i.y1,i.width,i.height),e>=i.x1-25&&e<=i.x1+25&&t<=i.y2-25&&t>=i.y1+25?g(i):e>=i.x2-25/m&&e<=i.x2+25/m&&t<=i.y2-25/m&&t>=i.y1+25/m?v(i):t>=i.y1-25/m&&t<=i.y1+25/m&&e<=i.x2-25/m&&e>=i.x1+25/m?f(i):t>=i.y2-25/m&&t<=i.y2+25/m&&e<=i.x2-25/m&&e>=i.x1+25/m?b(i):e>=i.x1-25/m&&e<=i.x1+25/m&&t<=i.y1+25/m&&t>=i.y1-25/m?y(i):e>=i.x2-25/m&&e<=i.x2+25/m&&t<=i.y2+25/m&&t>=i.y2-25/m?x(i):e>=i.x1-25/m&&e<=i.x1+25/m&&t<=i.y2+25/m&&t>=i.y2-25/m?w(i):e>=i.x2-25/m&&e<=i.x2+25/m&&t<=i.y1+25/m&&t>=i.y1-25/m&&_(i),a.isPointInPath(e*m,t*m)&&(S(i),s=0),a.stroke()}),r&&s&&u<3&&(u=1)}function S(e){t.style.cursor="move",r&&0==u&&(u=2),r&&2==u&&(p||(p=e),p.x2+=n-l-p.x1,p.x1+=n-l-p.x1,p.y2+=o-c-p.y1,p.y1+=o-c-p.y1)}function T(e){if(e.x1>e.x2){var t=e.x1;e.x1=e.x2,e.x2=t}if(e.y1>e.y2){var a=e.y1;e.y1=e.y2,e.y2=a}return e.width=e.x2-e.x1,e.height=e.y2-e.y1,(e.width<50||e.height<50)&&(e.width=60,e.height=60,e.x2+=e.x1+60,e.y2+=e.y1+60),e}document.querySelector("#cancel").onclick=function(){d.pop(),a.clearRect(0,0,800,600),F()},document.querySelector("#clear").onclick=function(){d=[],a.clearRect(0,0,800,600),F()},document.querySelector("#submit").onclick=function(){var t=[];0!=d.length?d.forEach(function(a,s){a.x1>0&&a.y1>0?(t.push({x:parseInt(2*a.x1),y:parseInt(2*a.y1),width:parseInt(2*(a.x2-a.x1)),height:parseInt(2*(a.y2-a.y1))}),e.loading=!0,h.put("/api/roi",{chid:e.channelID_1,rois:t}).then(function(a){h.put("/api/roi",{chid:e.channelID_2,rois:t}).then(function(t){e.loading=!1,1===t.data.result&&e.$alert("ROI设置成功",{confirmButtonText:"确定"})})}).catch(function(t){e.loading=!1})):(e.loading=!1,e.$Msg("请确保起始位置坐标x, y都大于0!","error"))}):e.$Msg("请先绘制ROI区域!","warning")};var C=function(e){s=e.pageX-t.offsetLeft-245,i=e.pageY-t.offsetTop-140,(p=function(e,t){for(var a=d.length,s=0;s<a;s++)if(d[s].x1<e&&e<d[s].x2&&d[s].y1<t&&t<d[s].y2)return d[s]}(s,i))&&(l=s-p.x1,c=i-p.y1),a.strokeStyle="red",a.strokeRect(n,o,0,0),r=1},k=function(e){n=e.pageX-t.offsetLeft-245,o=e.pageY-t.offsetTop-140,a.save(),a.setLineDash([5]),t.style.cursor="default",a.clearRect(0,0,800,600),r&&1==u&&a.strokeRect(s,i,n-s,o-i),a.restore(),F(n,o)},I=function(e){1==u?d.push(T({x1:s,y1:i,x2:n,y2:o,strokeStyle:"red",fillStyle:"pinck",type:0})):u>=3&&T(p),p=null,r=0,u=0};t.onmouseleave=function(){t.onmousedown=null,t.onmousemove=null,t.onmouseup=null},t.onmouseenter=function(){t.onmousedown=C,t.onmousemove=k,document.onmouseup=I}}}},k()(Ue,"mounted",function(){this.loadImg()}),k()(Ue,"computed",{getTableMaxHeight:function(){return this.$store.getters.getContentHeight-120+"px"}}),Ue),Ae={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"systemBox"},[e._m(0),e._v(" "),a("el-card",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{background:"black",border:"0"},attrs:{"element-loading-text":"拼命加载中","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.5)"}},[e._v(">\n    "),a("div",{style:{height:e.getTableMaxHeight,overflow:"auto"}},[a("div",{staticStyle:{position:"relative"}},[this.imgData?a("img",{ref:"image1",staticStyle:{width:"640px",height:"360px",border:"1px solid grey"},attrs:{src:"data:image/jpeg;base64,"+e.imgData}}):a("img",{ref:"image1",staticStyle:{width:"640px",height:"360px",border:"1px solid grey"}}),e._v(" "),a("div",{staticStyle:{position:"absolute",left:"0px",top:"0px"}},[a("canvas",{attrs:{id:"myCanvas",width:"640",height:"360"}})]),e._v(" "),a("div",{staticStyle:{"margin-top":"10px"}},[a("button",{staticClass:"button",attrs:{type:"button"},on:{click:e.refresh}},[e._v("刷新")]),e._v(" "),a("button",{staticClass:"button",attrs:{type:"button",id:"cancel"}},[e._v("撤销")]),e._v(" "),a("button",{staticClass:"button",attrs:{type:"button",id:"clear"}},[e._v("清空")]),e._v(" "),a("button",{staticClass:"button",attrs:{type:"button",id:"submit"}},[e._v("提交")])])])])])],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"systemTop"},[t("span",{staticClass:"systemTitle"},[this._v("智能分析设置")])])}]},Ve=a("VU/8")(He,Ae,!1,null,null,null).exports,Me={data:function(){return{imgUrl1:"",imgUrl0:"",loading:!1,value1:0,value2:0,marks:{0:"0%",5:"5%",10:"10%",15:"15%",20:"20%",25:"25%",30:"30%",35:"35%",40:"40%",45:"45%",50:"50%",55:"55%",60:"60%",65:"65%",70:"70%",75:"75%",80:"80%",85:"85%",90:"90%",95:"95%",100:"100%"},marks1:{0:"0ms",2.5:"11ms",5:"12ms",10:"14ms",15:"16ms",20:"18ms",25:"20ms",30:"22ms",35:"24ms",40:"26ms",45:"28ms",50:"30ms",55:"32ms",60:"34ms",65:"36ms",70:"38ms",75:"40ms",80:"42ms",85:"44ms",90:"46ms",95:"48ms",100:"50ms"}}},created:function(){this.imgClick(),this.getDutycycle()},methods:{getDutycycle:function(){var e=this;h.get("/api/camera").then(function(t){t&&t.data&&"200"===t.data.code&&(e.value1=100-t.data.data.dutycycle/1200*2.5,e.value2=0==t.data.data.exposure?0:2.5*(t.data.data.exposure-10))}).catch(function(){})},setDutycycle:function(e){var t=this;this.value1=e;var a=(100-e)/2.5*1200;h.post("/api/camera/dutycycle",{dutycycle:a}).then(function(e){e&&e.data&&"200"===e.data.code&&(t.loading=!0,setTimeout(function(){t.getTestImg(0)},1500))}).catch(function(){})},setExpose:function(e){var t=this;this.value2=e;var a=0==e?0:e/2.5+10;h.post("/api/camera/expose",{exposure:a}).then(function(e){e&&e.data&&"200"===e.data.code&&(t.loading=!0,setTimeout(function(){t.getTestImg(0)},15e3))}).catch(function(){})},imgClick:function(){var e=this;this.loading=!0,this.getTestImg(1),setTimeout(function(){e.getTestImg(0)},100)},getTestImg:function(e){var t=this;h.get("/api/triggerRealframe/"+e+"?"+(new Date).getTime()).then(function(a){if(a&&a.data&&"200"===a.data.code){var s=a.data.data.FrameId;setTimeout(function(){t.createImg(e,s)},1e3)}else t.loading=!1}).catch(function(){t.loading=!1})},createImg:function(e,t){var a=this;h.get("/api/downloadRealframe/"+t+"?"+(new Date).getTime()).then(function(t){0==e&&(a.loading=!1),t.data&&(a["imgUrl"+e]="data:image/png;base64,"+t.data.data)}).catch(function(){a.loading=!1})}},mounted:function(){},computed:{}},qe={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"systemBox",attrs:{"element-loading-text":"拼命加载中","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(255, 255, 255, 0.3)"}},[e._m(0),e._v(" "),a("div",{staticClass:"btnGroup"},[a("button",{staticClass:"button",attrs:{type:"button"},on:{click:e.imgClick}},[e._v("获取图片")])]),e._v(" "),a("div",{staticStyle:{"min-height":"360px","padding-left":"15px"}},[a("img",{attrs:{src:e.imgUrl1,width:"640",height:"360",alt:""}}),e._v(" "),a("img",{attrs:{src:e.imgUrl0,width:"640",height:"360",alt:""}})]),e._v(" "),a("div",{staticStyle:{padding:"10px 50px 50px"}},[a("div",{staticClass:"block"},[a("span",{staticClass:"demonstration"},[e._v("自动补光强度设置")]),e._v(" "),a("el-slider",{attrs:{step:2.5,"show-tooltip":!1,marks:e.marks,"show-stops":""},on:{change:e.setDutycycle},model:{value:e.value1,callback:function(t){e.value1=t},expression:"value1"}})],1),e._v(" "),a("div",{staticClass:"block"},[a("span",{staticClass:"demonstration"},[e._v("曝光参数设置")]),e._v(" "),a("el-slider",{attrs:{step:2.5,"show-tooltip":!1,marks:e.marks1,"show-stops":""},on:{change:e.setExpose},model:{value:e.value2,callback:function(t){e.value2=t},expression:"value2"}})],1)])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"systemTop"},[t("span",{staticClass:"systemTitle"},[this._v("测试设置")])])}]};var Oe=a("VU/8")(Me,qe,!1,function(e){a("MWbT")},"data-v-57da1730",null).exports,Be={data:function(){return{form:a("C77A").json}},inject:["reload"],created:function(){this.init()},methods:{init:function(){var e=this;h.get("/api/iotserver?"+(new Date).getTime()).then(function(t){if(1===t.data.result){var a=t.data.data,s=e.form.params;s.Server.value=a.Server,s.User.value=a.User,s.Passwd.value=a.Passwd}else console.log("出错了！")}).catch(function(e){return console.log(e)})},refreshForm:function(){this.reload()},onSubmit:function(e){var t=this;this.$refs[e].$refs.commonForm.validate(function(e){if(e){var a=t.form.params;h.put("/api/iotserver",{Server:a.Server.value,User:a.User.value,Passwd:a.Passwd.value}).then(function(e){1===e.data.result?t.$Msg("保存成功"):t.$Msg("提交失败")}).catch(function(e){return console.log(e)})}})}},components:{CommonForm:Ie}},We={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{margin:"5px 10px 0 225px",height:"100%",overflow:"auto"}},[a("h3",{staticStyle:{"margin-left":"14px",color:"#00ffc6"}},[e._v("设备管理 -- IOT Server配置")]),a("hr"),e._v(" "),a("el-card",{staticStyle:{background:"black",border:"0"}},[a("common-form",{ref:"ruleForm",attrs:{todos:e.form}}),e._v(" "),a("el-col",{staticStyle:{position:"fixed",bottom:"0",margin:"0 0 30px 30px"}},[a("el-button",{attrs:{type:"primary",size:"medium"},on:{click:e.refreshForm}},[e._v("刷新")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"medium"},on:{click:function(t){return e.onSubmit("ruleForm")}}},[e._v("保存")])],1)],1)],1)},staticRenderFns:[]},Ge=a("VU/8")(Be,We,!1,null,null,null).exports,Ze={data:function(){return{form:a("7UDh").json}},inject:["reload"],created:function(){this.init()},methods:{init:function(){var e=this;h.get("/api/eventserver?"+(new Date).getTime()).then(function(t){if(1===t.data.result){var a=t.data.data,s=e.form.params;s.Server.value=a.Server,s.User.value=a.User,s.Passwd.value=a.Passwd}else console.log("出错了！")}).catch(function(e){return console.log(e)})},refreshForm:function(){this.reload()},onSubmit:function(e){var t=this;this.$refs[e].$refs.commonForm.validate(function(e){if(e){var a=t.form.params;h.put("/api/eventserver",{Server:a.Server.value,User:a.User.value,Passwd:a.Passwd.value}).then(function(e){1===e.data.result?t.$Msg("保存成功"):t.$Msg("提交失败")}).catch(function(e){return console.log(e)})}})}},components:{CommonForm:Ie}},Ye={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{margin:"5px 10px 0 225px",height:"100%",overflow:"auto"}},[a("h3",{staticStyle:{"margin-left":"14px",color:"#00ffc6"}},[e._v("设备管理 -- Event Server配置")]),a("hr"),e._v(" "),a("el-card",{staticStyle:{background:"black",border:"0"}},[a("common-form",{ref:"ruleForm",attrs:{todos:e.form}}),e._v(" "),a("el-col",{staticStyle:{position:"fixed",bottom:"0",margin:"0 0 30px 30px"}},[a("el-button",{attrs:{type:"primary",size:"medium"},on:{click:e.refreshForm}},[e._v("刷新")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"medium"},on:{click:function(t){return e.onSubmit("ruleForm")}}},[e._v("保存")])],1)],1)],1)},staticRenderFns:[]},Qe=a("VU/8")(Ze,Ye,!1,null,null,null).exports,Je={data:function(){return{ruleForm:{chid:"",funcmode:"",passwd:"",url:"",user:""},rules:{chid:[{required:!0,message:"请输入channelID",trigger:"blur"}],funcmode:[{required:!0,message:"请输入funcmode",trigger:"blur"}],passwd:[{required:!0,message:"请输入passwd",trigger:"blur"}],url:[{required:!0,message:"请选择url",trigger:"blur"}],user:[{required:!0,message:"请选择user",trigger:"blur"}]},userIdList:[],userIsAdmin:!0,userName:""}},created:function(){},methods:{onSubmit:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;h.post("/api/videosource",t.ruleForm).then(function(e){1===e.data.result?t.$confirm("添加成功",{confirmButtonText:"确定"}).then(function(){return t.$router.push({name:"VideoSource"})}):t.$alert("添加失败",{confirmButtonText:"确定"})}).catch(function(e){t.$alert("添加失败",{confirmButtonText:"确定"})})})},goBack:function(){this.$router.push({name:"VideoSource"})}},computed:{getTableMaxHeight:function(){return this.$store.getters.getContentHeight-125+"px"}},components:{}},Xe={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{margin:"5px 10px 0 225px",height:"100%",overflow:"auto"}},[a("h3",{staticStyle:{"margin-left":"14px"}},[e._v("添加视频源")]),e._v(" "),a("hr"),e._v(" "),a("el-card",{staticStyle:{background:"black",border:"0"}},[a("div",{style:{height:e.getTableMaxHeight,overflow:"auto"}},[a("el-form",{ref:"ruleForm",staticClass:"demo-form-inline wrapper",attrs:{inline:!0,model:e.ruleForm,rules:e.rules,"label-width":"100px","label-position":"left"}},[a("el-col",{attrs:{span:11}},[a("el-form-item",{attrs:{label:"通道ID",prop:"chid"}},[a("el-input",{attrs:{placeholder:"输入通道ID"},model:{value:e.ruleForm.chid,callback:function(t){e.$set(e.ruleForm,"chid",e._n(t))},expression:"ruleForm.chid"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:11}},[a("el-form-item",{attrs:{label:"功能",prop:"funcmode"}},[a("el-input",{attrs:{placeholder:"输入功能"},model:{value:e.ruleForm.funcmode,callback:function(t){e.$set(e.ruleForm,"funcmode",e._n(t))},expression:"ruleForm.funcmode"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:11}},[a("el-form-item",{attrs:{label:"密码",prop:"passwd"}},[a("el-input",{attrs:{placeholder:"输入密码"},model:{value:e.ruleForm.passwd,callback:function(t){e.$set(e.ruleForm,"passwd",t)},expression:"ruleForm.passwd"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:11}},[a("el-form-item",{attrs:{label:"URL",prop:"url"}},[a("el-input",{attrs:{placeholder:"输入URL"},model:{value:e.ruleForm.url,callback:function(t){e.$set(e.ruleForm,"url",t)},expression:"ruleForm.url"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:11}},[a("el-form-item",{attrs:{label:"用户名",prop:"user"}},[a("el-input",{attrs:{placeholder:"输入用户名"},model:{value:e.ruleForm.user,callback:function(t){e.$set(e.ruleForm,"user",t)},expression:"ruleForm.user"}})],1)],1),e._v(" "),a("el-col",{staticStyle:{position:"fixed",bottom:"0"}},[a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.onSubmit("ruleForm")}}},[e._v("提交")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.goBack}},[e._v("返回")])],1)],1)],1)],1)])],1)},staticRenderFns:[]};var Ke=a("VU/8")(Je,Xe,!1,function(e){a("7nI9")},null,null).exports,et={data:function(){return{ruleForm:{Chid:"",Funcmode:"",Url:"",DetThrd:"",DetectNoneingIntervalTime:"",HeaddownAngularThrd:"",HeaddowningIntervalTime:"",PhoneThrd:"",PhoneingIntervalTime:"",SmokeThrd:"",SmokeingIntervalTime:"",EyeCloseThrd:"",SleepingIntervalTime:"",DetectThrd:"",QualityThrd:"",RecognizeThrd:""},rules:{Chid:[{required:!0,message:"请输入chid",trigger:"blur"}],Funcmode:[{required:!0,message:"请输入funcmode",trigger:"blur"}],Url:[{required:!0,message:"请输入url",trigger:"blur"}],DetThrd:[{required:!0,message:"请输入人脸ID",trigger:"blur"}],DetectNoneingIntervalTime:[{required:!0,message:"请输入detectNoneingIntervalTime",trigger:"blur"}],HeaddownAngularThrd:[{required:!0,message:"请输入headdownAngularThrd",trigger:"blur"}],HeaddowningIntervalTime:[{required:!0,message:"请输入headdowningIntervalTime",trigger:"blur"}],PhoneThrd:[{required:!0,message:"请输入phoneThrd",trigger:"blur"}],PhoneingIntervalTime:[{required:!0,message:"请输入phoneingIntervalTime",trigger:"blur"}],SmokeThrd:[{required:!0,message:"请输入SmokeThrd",trigger:"blur"}],SmokeingIntervalTime:[{required:!0,message:"SmokeingIntervalTime",trigger:"blur"}],EyeCloseThrd:[{required:!0,message:"请输入eyeCloseThrd",trigger:"blur"}],SleepingIntervalTime:[{required:!0,message:"请输入sleepingIntervalTime",trigger:"blur"}],DetectThrd:[{required:!0,message:"请输入detectThrd",trigger:"blur"}],QualityThrd:[{required:!0,message:"请输入qualityThrd",trigger:"blur"}],RecognizeThrd:[{required:!0,message:"请输入recognizeThrd",trigger:"blur"}]},userIsAdmin:!0,userName:""}},created:function(){this.ruleForm=JSON.parse(localStorage.getItem("ruleForm"))},methods:{onSubmit:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;3===t.ruleForm.Funcmode?h.put("/api/dsm",t.ruleForm).then(function(e){1===e.data.result?t.$confirm("修改成功",{confirmButtonText:"确定"}).then(function(){return t.$router.push({name:"VideoSource"})}):t.$alert("修改失败",{confirmButtonText:"确定"})}).catch(function(e){t.$alert("修改失败",{confirmButtonText:"确定"})}):h.put("/api/reg",t.ruleForm).then(function(e){1===e.data.result?t.$confirm("修改成功",{confirmButtonText:"确定"}).then(function(){return t.$router.push({name:"VideoSource"})}):t.$alert("修改失败",{confirmButtonText:"确定"})})})},goBack:function(){this.$router.push({name:"VideoSource"})}},computed:{getTableMaxHeight:function(){return this.$store.getters.getContentHeight-125+"px"}},components:{}},tt={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{margin:"5px 10px 0 225px",height:"100%",overflow:"auto"}},[a("h3",{staticStyle:{"margin-left":"14px",color:"#00ffc6"}},[e._v("修改视频源")]),e._v(" "),a("hr"),e._v(" "),a("el-card",{staticStyle:{background:"black",border:"0"}},[a("div",{style:{height:e.getTableMaxHeight,overflow:"auto"}},[a("el-form",{ref:"ruleForm",staticClass:"demo-form-inline wrapper",staticStyle:{"margin-left":"20px"},attrs:{inline:!0,model:e.ruleForm,rules:e.rules,"label-width":"280px","label-position":"left",size:"small"}},[a("el-col",{attrs:{span:11}},[a("el-form-item",{attrs:{label:"通道ID",prop:"Chid"}},[a("el-input",{attrs:{disabled:""},model:{value:e.ruleForm.Chid,callback:function(t){e.$set(e.ruleForm,"Chid",e._n(t))},expression:"ruleForm.Chid"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:11}},[a("el-form-item",{attrs:{label:"功能",prop:"Funcmode"}},[a("el-input",{attrs:{disabled:""},model:{value:e.ruleForm.Funcmode,callback:function(t){e.$set(e.ruleForm,"Funcmode",e._n(t))},expression:"ruleForm.Funcmode"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:11}},[a("el-form-item",{attrs:{label:"URL",prop:"Url"}},[a("el-input",{attrs:{disabled:""},model:{value:e.ruleForm.Url,callback:function(t){e.$set(e.ruleForm,"Url",t)},expression:"ruleForm.Url"}})],1)],1),e._v(" "),3===this.ruleForm.Funcmode?a("div",[a("el-col",{attrs:{span:11}},[a("el-form-item",{attrs:{label:"人脸检测阈值(0,1)",prop:"DetThrd"}},[a("el-input",{model:{value:e.ruleForm.DetThrd,callback:function(t){e.$set(e.ruleForm,"DetThrd",e._n(t))},expression:"ruleForm.DetThrd"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:11}},[a("el-form-item",{attrs:{label:"未检测到时间阈值(0,65535)",prop:"DetectNoneingIntervalTime"}},[a("el-input",{model:{value:e.ruleForm.DetectNoneingIntervalTime,callback:function(t){e.$set(e.ruleForm,"DetectNoneingIntervalTime",e._n(t))},expression:"ruleForm.DetectNoneingIntervalTime"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:11}},[a("el-form-item",{attrs:{label:"低头角度阈值(-90,90)",prop:"HeaddownAngularThrd"}},[a("el-input",{model:{value:e.ruleForm.HeaddownAngularThrd,callback:function(t){e.$set(e.ruleForm,"HeaddownAngularThrd",e._n(t))},expression:"ruleForm.HeaddownAngularThrd"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:11}},[a("el-form-item",{attrs:{label:"低头时间阈值(0,65535)",prop:"HeaddowningIntervalTime"}},[a("el-input",{model:{value:e.ruleForm.HeaddowningIntervalTime,callback:function(t){e.$set(e.ruleForm,"HeaddowningIntervalTime",e._n(t))},expression:"ruleForm.HeaddowningIntervalTime"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:11}},[a("el-form-item",{attrs:{label:"打电话阈值(0,1)",prop:"PhoneThrd"}},[a("el-input",{model:{value:e.ruleForm.PhoneThrd,callback:function(t){e.$set(e.ruleForm,"PhoneThrd",e._n(t))},expression:"ruleForm.PhoneThrd"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:11}},[a("el-form-item",{attrs:{label:"打电话时间阈值(0,65535)",prop:"PhoneingIntervalTime"}},[a("el-input",{model:{value:e.ruleForm.PhoneingIntervalTime,callback:function(t){e.$set(e.ruleForm,"PhoneingIntervalTime",e._n(t))},expression:"ruleForm.PhoneingIntervalTime"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:11}},[a("el-form-item",{attrs:{label:"吸烟阈值(0,1)",prop:"SmokeThrd"}},[a("el-input",{model:{value:e.ruleForm.SmokeThrd,callback:function(t){e.$set(e.ruleForm,"SmokeThrd",e._n(t))},expression:"ruleForm.SmokeThrd"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:11}},[a("el-form-item",{attrs:{label:"吸烟时间阈值(0,65535)",prop:"SmokeingIntervalTime"}},[a("el-input",{model:{value:e.ruleForm.SmokeingIntervalTime,callback:function(t){e.$set(e.ruleForm,"SmokeingIntervalTime",e._n(t))},expression:"ruleForm.SmokeingIntervalTime"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:11}},[a("el-form-item",{attrs:{label:"闭眼阈值(0,1)",prop:"EyeCloseThrd"}},[a("el-input",{model:{value:e.ruleForm.EyeCloseThrd,callback:function(t){e.$set(e.ruleForm,"EyeCloseThrd",e._n(t))},expression:"ruleForm.EyeCloseThrd"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:11}},[a("el-form-item",{attrs:{label:"睡觉时间阈值(0,65535)",prop:"SleepingIntervalTime"}},[a("el-input",{model:{value:e.ruleForm.SleepingIntervalTime,callback:function(t){e.$set(e.ruleForm,"SleepingIntervalTime",e._n(t))},expression:"ruleForm.SleepingIntervalTime"}})],1)],1)],1):a("div",[a("el-col",{attrs:{span:11}},[a("el-form-item",{attrs:{label:"人脸检测阈值(0,1)",prop:"DetectThrd"}},[a("el-input",{model:{value:e.ruleForm.DetectThrd,callback:function(t){e.$set(e.ruleForm,"DetectThrd",e._n(t))},expression:"ruleForm.DetectThrd"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:11}},[a("el-form-item",{attrs:{label:"人脸质量阈值(0,1)",prop:"QualityThrd"}},[a("el-input",{model:{value:e.ruleForm.QualityThrd,callback:function(t){e.$set(e.ruleForm,"QualityThrd",e._n(t))},expression:"ruleForm.QualityThrd"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:11}},[a("el-form-item",{attrs:{label:"人脸识别阈值(0,100)",prop:"RecognizeThrd"}},[a("el-input",{model:{value:e.ruleForm.RecognizeThrd,callback:function(t){e.$set(e.ruleForm,"RecognizeThrd",e._n(t))},expression:"ruleForm.RecognizeThrd"}})],1)],1)],1),e._v(" "),a("el-col",{staticStyle:{position:"fixed",bottom:"0"}},[a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.onSubmit("ruleForm")}}},[e._v("提交")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.goBack}},[e._v("返回")])],1)],1)],1)],1)])],1)},staticRenderFns:[]};var at=a("VU/8")(et,tt,!1,function(e){a("dzYj")},null,null).exports,st={data:function(){return{radio:1,ruleForm:{OSName:"",OSVersion:""}}},created:function(){this.init()},methods:{init:function(){var e=this;h.get("/api/systeminfo?"+(new Date).getTime()).then(function(t){e.ruleForm=t.data.data}).catch(function(e){return console.log(e)})},onSubmit:function(){console.log(1234)}},computed:{getTableMaxHeight:function(){return this.$store.getters.getContentHeight-125+"px"}}},it={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{margin:"5px 10px 0 225px",height:"100%",overflow:"auto"}},[a("h3",{staticStyle:{"margin-left":"14px",color:"#00ffc6"}},[e._v("系统管理 -- 基本信息 ")]),e._v(" "),a("hr"),e._v(" "),a("el-card",{staticStyle:{background:"black",border:"0"}},[a("div",{style:{height:e.getTableMaxHeight,overflow:"auto"}},[a("h3",{staticStyle:{margin:"10px 0 0 14px",color:"rgb(153,153,153)"}},[e._v("版本信息")]),e._v(" "),a("hr",{staticStyle:{border:"0.5px solid rgb(50,55,55)"}}),e._v(" "),a("span",{staticStyle:{"margin-left":"20px",color:"rgb(153,153,153)"}},[e._v("操作系统版本: "+e._s(this.ruleForm.OSName))]),e._v(" "),a("div",{staticStyle:{margin:"20px 20px 20px 20px",color:"rgb(153,153,153)"}},[e._v("固件版本: "+e._s(this.ruleForm.OSVersion))])])])],1)},staticRenderFns:[]};var rt=a("VU/8")(st,it,!1,function(e){a("4N8G")},null,null).exports,nt={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"error"},[a("span",{staticClass:"font-name"},[e._v("404")]),e._v(" "),a("br"),e._v(" "),a("br"),e._v(" "),a("br"),e._v(" "),a("br"),e._v(" "),a("br"),e._v(" "),a("br"),e._v(" "),a("br"),e._v(" "),a("span",{staticClass:"font-title"},[e._v("抱歉,您访问的页面不存在!")])])}]};var ot=a("VU/8")({},nt,!1,function(e){a("7cCi")},"data-v-e3723e76",null).exports;s.default.use(o.a),s.default.use(l.a);var lt=new l.a({mode:"history",routes:[{path:"*",component:ot},{path:"/",name:"Index",component:j,redirect:{name:"Login"},children:[{path:"/player",name:"Player",component:W},{path:"/log",name:"Log",component:K},{path:"/face",name:"Face",component:re},{path:"/faceAdd",name:"FaceAdd",component:le},{path:"/faceTimeEdit",name:"FaceTimeEdit",component:me},{path:"/faceEdit",name:"FaceEdit",component:ge},{path:"/system/deviceName",name:"DeviceName",component:ve},{path:"/iotServer",name:"IOTServer",component:Ge},{path:"/eventServer",name:"EventServer",component:Qe},{path:"/system/channel",name:"Channel",component:Te},{path:"/system/network",name:"Network",component:$e},{path:"/videoSourceAdd",name:"VideoSourceAdd",component:Ke},{path:"/videoSourceEdit",name:"VideoSourceEdit",component:at},{path:"/basicInfo",name:"BasicInfo",component:rt},{path:"/system/maintain",name:"Maintain",component:Ee},{path:"/system/userHighConfig",name:"UserHighConfig",component:ze},{path:"/system/roi",name:"Roi",component:Ve},{path:"/system/test",name:"Test",component:Oe}]},{path:"/login",name:"Login",component:H}]}),ct=a("NYxO");s.default.use(ct.a);var ut={contentWidth:document.body.offsetWidth-70,contentHeight:window.innerHeight-55},mt=new ct.a.Store({state:ut,mutations:{changeContentWidth:function(e,t){e.contentWidth=t},changeContentHeight:function(e,t){e.contentHeight=t}},actions:{changeContentWidth:function(e,t){(0,e.commit)("changeContentWidth",t)},changeContentHeight:function(e,t){(0,e.commit)("changeContentHeight",t)}},getters:{getContentWidth:function(e){return e.contentWidth},getContentHeight:function(e){return e.contentHeight}}});a("j1ja"),a("tvR6"),a("muQq"),a("RFxO"),a("7t+N");s.default.prototype.axios=d.a,s.default.prototype.$Confirm=function(e){this.$confirm(e,{confirmButtonText:"确定"}).then(function(e){console.log("ok")}).catch(function(e){console.log("err")})},s.default.prototype.$Msg=function(e,t){this.$message({message:e,showClose:!0,type:t})},s.default.config.productionTip=!1,new s.default({el:"#app",router:lt,store:mt,render:function(e){return e(r)},created:function(){this.checkLogin()},methods:{checkLogin:function(){localStorage.getItem("userName")||this.$router.push("/login")}},watch:{$route:"checkLogin"}})},Pzsy:function(e,t){},QVEH:function(e,t){},RFxO:function(e,t){},UgTd:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),a.d(t,"json",function(){return s});var s={tableParams:{name:{label:"姓名",type:"input"},faceId:{label:"人脸ID",type:"input"},faceImage:!0,order:!0,operationAddTime:!0,pagination:!0}}},XoGi:function(e,t,a){e.exports=a.p+"public/img/face.baf6d4e.png"},ZK0V:function(e,t,a){e.exports=a.p+"public/img/3.321b449.png"},ZP1n:function(e,t){},axk4:function(e,t){},cQ6e:function(e,t){},chPc:function(e,t,a){e.exports=a.p+"public/img/2.c9f9742.png"},cjWu:function(e,t){},dzYj:function(e,t){},gv0W:function(e,t){},hqo3:function(e,t){},jBxn:function(e,t){},jQ3B:function(e,t){},muQq:function(e,t){},q2gW:function(e,t){},tvR6:function(e,t){},uslO:function(e,t,a){var s={"./af":"3CJN","./af.js":"3CJN","./ar":"3MVc","./ar-dz":"tkWw","./ar-dz.js":"tkWw","./ar-kw":"j8cJ","./ar-kw.js":"j8cJ","./ar-ly":"wPpW","./ar-ly.js":"wPpW","./ar-ma":"dURR","./ar-ma.js":"dURR","./ar-sa":"7OnE","./ar-sa.js":"7OnE","./ar-tn":"BEem","./ar-tn.js":"BEem","./ar.js":"3MVc","./az":"eHwN","./az.js":"eHwN","./be":"3hfc","./be.js":"3hfc","./bg":"lOED","./bg.js":"lOED","./bm":"hng5","./bm.js":"hng5","./bn":"aM0x","./bn-bd":"1C9R","./bn-bd.js":"1C9R","./bn.js":"aM0x","./bo":"w2Hs","./bo.js":"w2Hs","./br":"OSsP","./br.js":"OSsP","./bs":"aqvp","./bs.js":"aqvp","./ca":"wIgY","./ca.js":"wIgY","./cs":"ssxj","./cs.js":"ssxj","./cv":"N3vo","./cv.js":"N3vo","./cy":"ZFGz","./cy.js":"ZFGz","./da":"YBA/","./da.js":"YBA/","./de":"DOkx","./de-at":"8v14","./de-at.js":"8v14","./de-ch":"Frex","./de-ch.js":"Frex","./de.js":"DOkx","./dv":"rIuo","./dv.js":"rIuo","./el":"CFqe","./el.js":"CFqe","./en-au":"Sjoy","./en-au.js":"Sjoy","./en-ca":"Tqun","./en-ca.js":"Tqun","./en-gb":"hPuz","./en-gb.js":"hPuz","./en-ie":"ALEw","./en-ie.js":"ALEw","./en-il":"QZk1","./en-il.js":"QZk1","./en-in":"yJfC","./en-in.js":"yJfC","./en-nz":"dyB6","./en-nz.js":"dyB6","./en-sg":"NYST","./en-sg.js":"NYST","./eo":"Nd3h","./eo.js":"Nd3h","./es":"LT9G","./es-do":"7MHZ","./es-do.js":"7MHZ","./es-mx":"USNP","./es-mx.js":"USNP","./es-us":"INcR","./es-us.js":"INcR","./es.js":"LT9G","./et":"XlWM","./et.js":"XlWM","./eu":"sqLM","./eu.js":"sqLM","./fa":"2pmY","./fa.js":"2pmY","./fi":"nS2h","./fi.js":"nS2h","./fil":"rMbQ","./fil.js":"rMbQ","./fo":"OVPi","./fo.js":"OVPi","./fr":"tzHd","./fr-ca":"bXQP","./fr-ca.js":"bXQP","./fr-ch":"VK9h","./fr-ch.js":"VK9h","./fr.js":"tzHd","./fy":"g7KF","./fy.js":"g7KF","./ga":"U5Iz","./ga.js":"U5Iz","./gd":"nLOz","./gd.js":"nLOz","./gl":"FuaP","./gl.js":"FuaP","./gom-deva":"VGQH","./gom-deva.js":"VGQH","./gom-latn":"+27R","./gom-latn.js":"+27R","./gu":"rtsW","./gu.js":"rtsW","./he":"Nzt2","./he.js":"Nzt2","./hi":"ETHv","./hi.js":"ETHv","./hr":"V4qH","./hr.js":"V4qH","./hu":"xne+","./hu.js":"xne+","./hy-am":"GrS7","./hy-am.js":"GrS7","./id":"yRTJ","./id.js":"yRTJ","./is":"upln","./is.js":"upln","./it":"FKXc","./it-ch":"/E8D","./it-ch.js":"/E8D","./it.js":"FKXc","./ja":"ORgI","./ja.js":"ORgI","./jv":"JwiF","./jv.js":"JwiF","./ka":"RnJI","./ka.js":"RnJI","./kk":"j+vx","./kk.js":"j+vx","./km":"5j66","./km.js":"5j66","./kn":"gEQe","./kn.js":"gEQe","./ko":"eBB/","./ko.js":"eBB/","./ku":"kI9l","./ku.js":"kI9l","./ky":"6cf8","./ky.js":"6cf8","./lb":"z3hR","./lb.js":"z3hR","./lo":"nE8X","./lo.js":"nE8X","./lt":"/6P1","./lt.js":"/6P1","./lv":"jxEH","./lv.js":"jxEH","./me":"svD2","./me.js":"svD2","./mi":"gEU3","./mi.js":"gEU3","./mk":"Ab7C","./mk.js":"Ab7C","./ml":"oo1B","./ml.js":"oo1B","./mn":"CqHt","./mn.js":"CqHt","./mr":"5vPg","./mr.js":"5vPg","./ms":"ooba","./ms-my":"G++c","./ms-my.js":"G++c","./ms.js":"ooba","./mt":"oCzW","./mt.js":"oCzW","./my":"F+2e","./my.js":"F+2e","./nb":"FlzV","./nb.js":"FlzV","./ne":"/mhn","./ne.js":"/mhn","./nl":"3K28","./nl-be":"Bp2f","./nl-be.js":"Bp2f","./nl.js":"3K28","./nn":"C7av","./nn.js":"C7av","./oc-lnc":"KOFO","./oc-lnc.js":"KOFO","./pa-in":"pfs9","./pa-in.js":"pfs9","./pl":"7LV+","./pl.js":"7LV+","./pt":"ZoSI","./pt-br":"AoDM","./pt-br.js":"AoDM","./pt.js":"ZoSI","./ro":"wT5f","./ro.js":"wT5f","./ru":"ulq9","./ru.js":"ulq9","./sd":"fW1y","./sd.js":"fW1y","./se":"5Omq","./se.js":"5Omq","./si":"Lgqo","./si.js":"Lgqo","./sk":"OUMt","./sk.js":"OUMt","./sl":"2s1U","./sl.js":"2s1U","./sq":"V0td","./sq.js":"V0td","./sr":"f4W3","./sr-cyrl":"c1x4","./sr-cyrl.js":"c1x4","./sr.js":"f4W3","./ss":"7Q8x","./ss.js":"7Q8x","./sv":"Fpqq","./sv.js":"Fpqq","./sw":"DSXN","./sw.js":"DSXN","./ta":"+7/x","./ta.js":"+7/x","./te":"Nlnz","./te.js":"Nlnz","./tet":"gUgh","./tet.js":"gUgh","./tg":"5SNd","./tg.js":"5SNd","./th":"XzD+","./th.js":"XzD+","./tk":"+WRH","./tk.js":"+WRH","./tl-ph":"3LKG","./tl-ph.js":"3LKG","./tlh":"m7yE","./tlh.js":"m7yE","./tr":"k+5o","./tr.js":"k+5o","./tzl":"iNtv","./tzl.js":"iNtv","./tzm":"FRPF","./tzm-latn":"krPU","./tzm-latn.js":"krPU","./tzm.js":"FRPF","./ug-cn":"To0v","./ug-cn.js":"To0v","./uk":"ntHu","./uk.js":"ntHu","./ur":"uSe8","./ur.js":"uSe8","./uz":"XU1s","./uz-latn":"/bsm","./uz-latn.js":"/bsm","./uz.js":"XU1s","./vi":"0X8Q","./vi.js":"0X8Q","./x-pseudo":"e/KL","./x-pseudo.js":"e/KL","./yo":"YXlc","./yo.js":"YXlc","./zh-cn":"Vz2w","./zh-cn.js":"Vz2w","./zh-hk":"ZUyn","./zh-hk.js":"ZUyn","./zh-mo":"+WA1","./zh-mo.js":"+WA1","./zh-tw":"BbgG","./zh-tw.js":"BbgG"};function i(e){return a(r(e))}function r(e){var t=s[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}i.keys=function(){return Object.keys(s)},i.resolve=r,e.exports=i,i.id="uslO"}},[0]);